{"version":3,"sources":["utils/storage.ts","utils/infura.js","utils/txNotifier.ts","constants/contracts.js","constants/tokens.js","utils/web3.js","constants/values.js","utils/number.ts","utils/pool.ts","components/NavBar/TotalBalance.tsx","components/NavBar/ConnectModal.tsx","components/NavBar/ConnectButton.tsx","components/NavBar/index.tsx","components/common/EpochBlock.tsx","components/HomePage/index.tsx","components/common/AddressBlock.tsx","components/common/BalanceBlock.tsx","components/common/MaxButton.tsx","components/common/PriceSection.tsx","components/common/Comment.tsx","components/common/Wrapper.tsx","components/common/CheckBox.tsx","components/Trade/Header.tsx","components/common/IconHeader.tsx","components/Trade/index.tsx","components/common/TextBlock.tsx","components/Wallet/Header.tsx","components/common/BigNumberInput.tsx","components/Wallet/WithdrawDeposit.tsx","components/Wallet/BondUnbond.tsx","components/Wallet/index.tsx","components/common/NumberBlock.tsx","components/EpochDetail/AdvanceEpoch.tsx","components/EpochDetail/Header.tsx","components/EpochDetail/index.tsx","components/CouponMarket/Header.tsx","components/CouponMarket/PurchaseCoupons.tsx","components/CouponMarket/PurchaseHistory.tsx","components/CouponMarket/ModalWarning.tsx","components/CouponMarket/index.tsx","components/Governance/Header.tsx","utils/gov.ts","components/Governance/ProposeCandidate.tsx","components/Governance/CandidateHistory.tsx","components/Governance/index.tsx","components/Candidate/Vote.tsx","components/Candidate/VoteHeader.tsx","components/Candidate/CommitHeader.tsx","components/Candidate/Commit.tsx","components/Candidate/index.tsx","components/Regulation/Header.tsx","components/Regulation/RegulationHistory.tsx","components/Regulation/index.tsx","components/Pool/WithdrawDeposit.tsx","components/Pool/BondUnbond.tsx","components/Pool/Header.tsx","components/Pool/Claim.tsx","components/Pool/Provide.tsx","components/Pool/index.tsx","components/HomePageNoWeb3/index.tsx","App.tsx","serviceWorker.js","index.tsx"],"names":["getPreference","key","defaultValue","localStorage","getItem","storePreference","value","setItem","web3","notify","v","console","log","DollarPool2","UNI","USDC","addr","decimals","symbol","EXED","EXEDS","testnetUSDCAbi","require","daoAbi","poolAbi","UINT256_MAX","connect","ethereum","a","window","Web3","eth","getAccounts","addresses","length","enable","toLowerCase","checkConnectedAndGetAddress","approve","tokenAddr","spender","amt","account","oToken","Contract","methods","send","from","on","hash","advance","dao","daoContract","deposit","amount","BigNumber","toFixed","withdraw","bond","unbondUnderlying","purchaseCoupons","redeemCoupons","epoch","migrateCoupons","recordVote","candidate","voteType","vote","commit","depositPool","pool","callback","poolContract","withdrawPool","bondPool","unbondPool","unbond","claimPool","claim","providePool","provide","MAX_UINT256","pow","minus","GOVERNANCE_QUORUM","GOVERNANCE_PROPOSAL_THRESHOLD","dollarAbi","undefined","getTokenBalance","token","tokenContract","balanceOf","call","getTokenTotalSupply","totalSupply","getTokenAllowance","allowance","getBalanceBonded","balanceOfBonded","getBalanceOfStaged","balanceOfStaged","getStatusOf","statusOf","getFluidUntil","fluidUntil","getLockedUntil","lockedUntil","getEpoch","getEpochTime","epochTime","getTotalDebt","totalDebt","getTotalRedeemable","totalRedeemable","getTotalCoupons","totalCoupons","getTotalCouponsUnderlying","totalCouponUnderlying","getTotalBonded","totalBonded","getTotalStaged","totalStaged","getTotalBondedAt","totalBondedAt","getApproveFor","approveFor","getRejectFor","rejectFor","getStartFor","startFor","getPeriodFor","periodFor","getIsInitialized","isInitialized","getRecordedVote","recordedVote","getBalanceOfCoupons","balanceOfCoupons","getBatchBalanceOfCoupons","epochs","calls","map","Promise","all","getBalanceOfCouponsUnderlying","balanceOfCouponUnderlying","getBatchBalanceOfCouponsUnderlying","getCouponsExpiration","couponsExpiration","getBatchCouponsExpiration","getCouponPremium","couponPremium","getImplementation","implementation","getPool","getCouponEpochs","purchaseP","getPastEvents","filter","fromBlock","transferP","to","bought","given","events","e","returnValues","couponAmount","concat","couponEpochs","reduce","event","prev","get","set","coupons","plus","Map","values","sort","b","getAllProposals","payload","prop","blockNumber","getAllRegulations","increaseP","decreaseP","neutralP","increase","decrease","neutral","type","data","getPoolStatusOf","getPoolBalanceOfBonded","getPoolBalanceOfStaged","getPoolBalanceOfRewarded","balanceOfRewarded","getPoolBalanceOfClaimable","balanceOfClaimable","getPoolTotalBonded","getPoolTotalRewarded","totalRewarded","getPoolTotalClaimable","totalClaimable","getPoolFluidUntil","getBlockNumber","bondP","unbondP","startEpoch","start","parseInt","toString","toBaseUnitBN","rawAmt","raw","base","decimalsBN","times","integerValue","toTokenUnitsBN","tokenAmount","tokenDecimals","digits","div","isPos","isZero","isPositive","ownership","balance","multipliedBy","dividedBy","formatBN","position","isLessThan","bnStr","includes","parts","split","i","pad","precision","ROUND_FLOOR","replace","delineate","formatMoney","n","toPrecision","Math","abs","Number","getPoolAddress","Error","getLegacyPoolAddress","poolAddress","TotalBalance","user","useState","totalBalance","setTotalBalance","useEffect","isCancelled","updateUserInfo","id","setInterval","clearInterval","esdBalance","stagedBalance","bondedBalance","pairBalanceESDStr","pairTotalSupplyUNIStr","userUNIBalanceStr","userPoolBondedBalanceStr","userPoolStagedBalanceStr","userPoolRewardedBalanceStr","userPoolClaimableBalanceStr","userBalance","userStagedBalance","userBondedBalance","userUNIBalance","userPoolBondedBalance","userPoolStagedBalance","userPoolRewardedBalance","userPoolClaimableBalance","UNItoESD","daoTotalBalance","poolTotalBalance","circulationBalance","style","fontSize","padding","fontWeight","lineHeight","fontFamily","ConnectModal","visible","onClose","onConnect","wallet","useWallet","Modal","Header","primary","width","margin","Button","className","wide","label","icon","src","height","alt","onClick","ConnectButton","hasWeb3","setUser","status","reset","isModalOpen","setModalOpen","connectWeb3","disconnectWeb3","toggleModal","display","flex","Box","marginRight","IconPower","textAlign","IdentityBadge","entity","disabled","LinkButton","title","component","LinkBase","external","alignItems","marginLeft","opacity","activeStyle","NavBar","currentTheme","useTheme","_name","backgroundColor","maxWidth","paddingTop","EpochBlock","epochformatted","epochRemainder","floor","Date","now","epochHour","epochMinute","MainButton","description","tag","Tag","HomePage","history","useHistory","setEpochTime","flexWrap","flexBasis","flexGrow","push","AddressBlock","address","shorten","BalanceBlock","asset","suffix","integer","balanceBN","gte","tokens","MaxButton","ButtonBase","PriceSection","forceDisplay","amtBN","gt","toNumber","Comment","styled","MyCheckBox","text","checked","onCheck","theme","CheckBoxWrapper","Checkbox","onChange","props","surfaceContentSecondary","TradePageHeader","pairBalanceESD","pairBalanceUSDC","uniswapPair","price","IconHeader","href","UniswapPool","setPairBalanceESD","setPairBalanceUSDC","pairBalanceUSDCStr","TextBlock","STATUS_MAP","accountStatus","unlocked","AccountPageHeader","accountESDBalance","accountESDSBalance","totalESDSSupply","accountStagedBalance","accountBondedBalance","BigNumberInput","setter","adornment","isNegative","target","onBlur","WithdrawDeposit","depositAmount","setDepositAmount","withdrawAmount","setWithdrawAmount","comparedTo","minWidth","IconCirclePlus","IconLock","isGreaterThan","IconCircleMinus","BondUnbond","staged","bonded","lockup","bondAmount","setBondAmount","unbondAmount","setUnbondAmount","IconCaution","Wallet","override","useParams","userESDBalance","setUserESDBalance","userESDAllowance","setUserESDAllowance","userESDSBalance","setUserESDSBalance","setTotalESDSSupply","setUserStagedBalance","setUserBondedBalance","userStatus","setUserStatus","userStatusUnlocked","setUserStatusUnlocked","setLockup","esdAllowance","esdsBalance","esdsSupply","fluidUntilStr","lockedUntilStr","max","NumberBlock","num","numNum","AdvanceEpoch","heading","EpochPageHeader","EpochDetail","setEpoch","epochStr","epochTimeStr","CouponMarketHeader","debt","supply","premium","redeemable","PurchaseCoupons","purchaseAmount","setPurchaseAmount","setPremium","updatePremium","lte","purchaseAmountBase","premiumFormatted","maxPurchaseAmount","CouponAction","coupon","principal","IconRefresh","IconCheck","PurchaseHistory","hideRedeemed","setEpochs","page","setPage","initialized","setInitialized","epochsFromEvents","epochNumbers","balanceOfCouponsPremium","balanceOfCouponsPrincipal","couponsExpirations","expiration","DataView","emptyState","default","displayLoader","subtitle","illustration","clearLabel","loading","fields","entries","entriesPerPage","onPageChange","renderEntry","ModalWarning","storedShowWarning","showWarning","setShowWarning","closeButton","color","warning","warningSurfaceContent","ONE_COUPON","CouponMarket","storedHideRedeemed","setBalance","setAllowance","setSupply","setCoupons","setRedeemable","setCouponPremium","setDebt","setHideRedeemed","balanceStr","allowanceStr","supplyStr","debtStr","couponsPremiumStr","couponsPrincipalStr","redeemableStr","couponPremiumStr","alignSelf","CheckBox","GovernanceHeader","stake","totalStake","proposalStatus","period","reject","total","canPropose","plausibleCandidate","test","ProposeCandidate","setCandidate","IconToken","formatProposals","proposals","currentTotalStake","p","initializeds","approves","rejecteds","at","supplyAts","index","CandidateHistory","setProposals","allProposals","formattedProposals","proposal","IconRight","Governance","setStake","setTotalStake","setImplementation","statusStr","stakeStr","totalStakeStr","implementationStr","VOTE_TYPE_MAP","Vote","IconRotateLeft","IconCircleCheck","IconProhibited","participation","dividedToIntegerBy","VoteHeader","showParticipation","CommitHeader","periodEpoch","Commit","s","approved","IconUpload","Candidate","setApproveFor","setRejectFor","setVote","setStatus","userStake","setUserStake","setStartEpoch","setPeriodEpoch","voteStr","userStakeStr","approveForStr","rejectForStr","startForStr","periodForStr","epochN","startN","periodN","endsAfter","RegulationHeader","poolLiquidity","poolRewarded","poolClaimable","legacyPoolRewarded","legacyPoolClaimable","daoTotalSupply","totalCouponsUnderlying","poolTotalSupply","legacyPoolTotalSupply","circulatingSupply","Distribution","items","item","percentage","formatPrice","formatDeltaRedeemable","newRedeemable","formatDeltaDebt","lessDebt","newDebt","formatDeltaBonded","newBonded","RegulationHistory","regulations","setRegulations","allRegulations","Regulation","setTotalSupply","setTotalBonded","setTotalStaged","setTotalRedeemable","setPoolLiquidity","poolTotalRewarded","setPoolTotalRewarded","poolTotalClaimable","setPoolTotalClaimable","legacyPoolTotalRewarded","setLegacyPoolTotalRewarded","legacyPoolTotalClaimable","setLegacyPoolTotalClaimable","setTotalDebt","setTotalCoupons","setTotalCouponsUnderlying","legacyPoolAddress","totalSupplyStr","totalBondedStr","totalStagedStr","totalRedeemableStr","poolLiquidityStr","poolTotalRewardedStr","poolTotalClaimableStr","legacyPoolTotalRewardedStr","legacyPoolTotalClaimableStr","totalDebtStr","totalCouponsStr","totalCouponsUnderlyingStr","PoolPageHeader","accountUNIBalance","accountRewardedESDBalance","accountClaimableESDBalance","poolTotalBonded","accountPoolStatus","Claim","claimable","claimAmount","setClaimAmount","IconArrowDown","Provide","rewarded","userUSDCBalance","userUSDCAllowance","provideAmount","setProvideAmount","usdcAmount","setUsdcAmount","USDCToESDRatio","onChangeAmountESD","amountESD","amountESDBN","amountESDBU","newAmountUSDC","IconArrowUp","Pool","setPoolAddress","setPoolTotalBonded","setUserUNIBalance","userUNIAllowance","setUserUNIAllowance","setUserUSDCBalance","setUserUSDCAllowance","userRewardedBalance","setUserRewardedBalance","userClaimableBalance","setUserClaimableBalance","legacyUserStagedBalance","setLegacyUserStagedBalance","legacyUserBondedBalance","setLegacyUserBondedBalance","legacyUserRewardedBalance","setLegacyUserRewardedBalance","legacyUserClaimableBalance","setLegacyUserClaimableBalance","setLegacyUserStatus","poolAddressStr","poolTotalBondedStr","usdcBalance","usdcAllowance","rewardedBalance","claimableBalance","legacyStagedBalance","legacyBondedBalance","legacyRewardedBalance","legacyClaimableBalance","legacyStatus","pairESDBalance","pairUSDCBalance","legacyUserStatus","isRewardedNegative","HomePageNoWeb3","location","App","storedTheme","setHasWeb3","chainId","connectors","walletconnect","rpcUrl","walletlink","url","appName","appLogoUrl","Main","assetsUrl","process","layout","Layout","path","Trade","Boolean","hostname","match","Moment","locale","momentLocalizer","ReactDOM","render","document","getElementById","navigator","serviceWorker","ready","then","registration","unregister","catch","error","message"],"mappings":"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","file":"static/js/main.d2cb91de.chunk.js","sourcesContent":["/**\n * Get value by key\n * @param {string} key\n * @param {string} defaultValue\n */\nexport function getPreference(key:string, defaultValue:string): string {\n  return localStorage.getItem(key) || defaultValue;\n}\n\n/**\n * store value to storage\n * @param {string} key\n * @param {string} value\n */\nexport function storePreference(key:string, value:string):void {\n  localStorage.setItem(key, value);\n}\n","import Web3 from 'web3';\n\nimport BigNumber from 'bignumber.js';\nimport { UniswapV2Router02 } from '../constants/contracts';\nimport { EXED, UNI, USDC } from '../constants/tokens';\nimport { POOL_EXIT_LOCKUP_EPOCHS } from '../constants/values';\n\nconst dollarAbi = require('../constants/abi/Dollar.json');\nconst daoAbi = require('../constants/abi/Implementation.json');\nconst poolAbi = require('../constants/abi/Pool.json');\nconst uniswapRouterAbi = require('../constants/abi/UniswapV2Router02.json');\nconst uniswapPairAbi = require('../constants/abi/UniswapV2Pair.json');\n\nlet web3;\n// eslint-disable-next-line no-undef\nif (window.ethereum !== undefined) {\n  // eslint-disable-next-line no-undef\n  web3 = new Web3(ethereum);\n}\n\n/**\n *\n * @param {string} token address\n * @param {string} account address\n * @return {Promise<string>}\n */\nexport const getTokenBalance = async (token, account) => {\n  if (account === '') return '0';\n  const tokenContract = new web3.eth.Contract(dollarAbi, token);\n  return tokenContract.methods.balanceOf(account).call();\n};\n\nexport const getTokenTotalSupply = async (token) => {\n  const tokenContract = new web3.eth.Contract(dollarAbi, token);\n  return tokenContract.methods.totalSupply().call();\n};\n\n/**\n *\n * @param {string} token\n * @param {string} account\n * @param {string} spender\n * @return {Promise<string>}\n */\nexport const getTokenAllowance = async (token, account, spender) => {\n  const tokenContract = new web3.eth.Contract(dollarAbi, token);\n  return tokenContract.methods.allowance(account, spender).call();\n};\n\n// EXED Protocol\n\n/**\n *\n * @param {string} dao address\n * @param {string} account address\n * @return {Promise<string>}\n */\nexport const getBalanceBonded = async (dao, account) => {\n  if (account === '') return '0';\n  const daoContract = new web3.eth.Contract(daoAbi, dao);\n  return daoContract.methods.balanceOfBonded(account).call();\n};\n\n/**\n *\n * @param {string} dao address\n * @param {string} account address\n * @return {Promise<string>}\n */\nexport const getBalanceOfStaged = async (dao, account) => {\n  const daoContract = new web3.eth.Contract(daoAbi, dao);\n  return daoContract.methods.balanceOfStaged(account).call();\n};\n\n/**\n *\n * @param {string} dao address\n * @param {string} account address\n * @return {Promise<string>}\n */\nexport const getStatusOf = async (dao, account) => {\n  const daoContract = new web3.eth.Contract(daoAbi, dao);\n  return daoContract.methods.statusOf(account).call();\n};\n\n/**\n *\n * @param {string} dao address\n * @param {string} account address\n * @return {Promise<string>}\n */\nexport const getFluidUntil = async (dao, account) => {\n  const daoContract = new web3.eth.Contract(daoAbi, dao);\n  return daoContract.methods.fluidUntil(account).call();\n};\n\n/**\n *\n * @param {string} dao address\n * @param {string} account address\n * @return {Promise<string>}\n */\nexport const getLockedUntil = async (dao, account) => {\n  const daoContract = new web3.eth.Contract(daoAbi, dao);\n  return daoContract.methods.lockedUntil(account).call();\n};\n\n/**\n *\n * @param {string} dao address\n * @return {Promise<string>}\n */\nexport const getEpoch = async (dao) => {\n  const daoContract = new web3.eth.Contract(daoAbi, dao);\n  return daoContract.methods.epoch().call();\n};\n\n/**\n *\n * @param {string} dao address\n * @return {Promise<string>}\n */\nexport const getEpochTime = async (dao) => {\n  const daoContract = new web3.eth.Contract(daoAbi, dao);\n  return daoContract.methods.epochTime().call();\n};\n\n/**\n *\n * @param {string} dao address\n * @return {Promise<string>}\n */\nexport const getTotalDebt = async (dao) => {\n  const daoContract = new web3.eth.Contract(daoAbi, dao);\n  return daoContract.methods.totalDebt().call();\n};\n\n/**\n *\n * @param {string} dao address\n * @return {Promise<string>}\n */\nexport const getTotalRedeemable = async (dao) => {\n  const daoContract = new web3.eth.Contract(daoAbi, dao);\n  return daoContract.methods.totalRedeemable().call();\n};\n\n/**\n *\n * @param {string} dao address\n * @return {Promise<string>}\n */\nexport const getTotalCoupons = async (dao) => {\n  const daoContract = new web3.eth.Contract(daoAbi, dao);\n  return daoContract.methods.totalCoupons().call();\n};\n\n/**\n *\n * @param {string} dao address\n * @return {Promise<string>}\n */\nexport const getTotalCouponsUnderlying = async (dao) => {\n  const daoContract = new web3.eth.Contract(daoAbi, dao);\n  return daoContract.methods.totalCouponUnderlying().call();\n};\n\n/**\n *\n * @param {string} dao address\n * @return {Promise<string>}\n */\nexport const getTotalBonded = async (dao) => {\n  const daoContract = new web3.eth.Contract(daoAbi, dao);\n  return daoContract.methods.totalBonded().call();\n};\n\n/**\n *\n * @param {string} dao address\n * @return {Promise<string>}\n */\nexport const getTotalStaged = async (dao) => {\n  const daoContract = new web3.eth.Contract(daoAbi, dao);\n  return daoContract.methods.totalStaged().call();\n};\n\n/**\n *\n * @param {string} dao address\n * @param {number} epoch number\n * @return {Promise<string>}\n */\nexport const getTotalBondedAt = async (dao, epoch) => {\n  const daoContract = new web3.eth.Contract(daoAbi, dao);\n  return daoContract.methods.totalBondedAt(epoch).call();\n};\n\n/**\n *\n * @param {string} dao address\n * @param {string} candidate address\n * @return {Promise<string>}\n */\nexport const getApproveFor = async (dao, candidate) => {\n  const daoContract = new web3.eth.Contract(daoAbi, dao);\n  return daoContract.methods.approveFor(candidate).call();\n};\n\n/**\n *\n * @param {string} dao address\n * @param {string} candidate address\n * @return {Promise<string>}\n */\nexport const getRejectFor = async (dao, candidate) => {\n  const daoContract = new web3.eth.Contract(daoAbi, dao);\n  return daoContract.methods.rejectFor(candidate).call();\n};\n\n/**\n *\n * @param {string} dao address\n * @param {string} candidate address\n * @return {Promise<string>}\n */\nexport const getStartFor = async (dao, candidate) => {\n  const daoContract = new web3.eth.Contract(daoAbi, dao);\n  return daoContract.methods.startFor(candidate).call();\n};\n\n/**\n *\n * @param {string} dao address\n * @param {string} candidate address\n * @return {Promise<string>}\n */\nexport const getPeriodFor = async (dao, candidate) => {\n  const daoContract = new web3.eth.Contract(daoAbi, dao);\n  return daoContract.methods.periodFor(candidate).call();\n};\n\n/**\n *\n * @param {string} dao address\n * @param {string} candidate address\n * @return {Promise<boolean>}\n */\nexport const getIsInitialized = async (dao, candidate) => {\n  const daoContract = new web3.eth.Contract(daoAbi, dao);\n  return daoContract.methods.isInitialized(candidate).call();\n};\n\n/**\n *\n * @param {string} dao address\n * @param {string} account address\n * @param {string} candidate address\n * @return {Promise<string>}\n */\nexport const getRecordedVote = async (dao, account, candidate) => {\n  const daoContract = new web3.eth.Contract(daoAbi, dao);\n  return daoContract.methods.recordedVote(account, candidate).call();\n};\n\n/**\n *\n * @param {string} dao address\n * @param {string} account address\n * @param {number} epoch number\n * @return {Promise<string>}\n */\nexport const getBalanceOfCoupons = async (dao, account, epoch) => {\n  const daoContract = new web3.eth.Contract(daoAbi, dao);\n  return daoContract.methods.balanceOfCoupons(account, epoch).call();\n};\n\n/**\n *\n * @param {string} dao address\n * @param {string} account address\n * @param {number[]} epochs number[]\n * @return {Promise<string[]>}\n */\nexport const getBatchBalanceOfCoupons = async (dao, account, epochs) => {\n  const calls = epochs.map((epoch) => getBalanceOfCoupons(dao, account, epoch));\n  return Promise.all(calls);\n};\n\n/**\n *\n * @param {string} dao address\n * @param {string} account address\n * @param {number} epoch number\n * @return {Promise<string>}\n */\nexport const getBalanceOfCouponsUnderlying = async (dao, account, epoch) => {\n  const daoContract = new web3.eth.Contract(daoAbi, dao);\n  return daoContract.methods.balanceOfCouponUnderlying(account, epoch).call();\n};\n\n/**\n *\n * @param {string} dao address\n * @param {string} account address\n * @param {number[]} epochs number[]\n * @return {Promise<string[]>}\n */\nexport const getBatchBalanceOfCouponsUnderlying = async (dao, account, epochs) => {\n  const calls = epochs.map((epoch) => getBalanceOfCouponsUnderlying(dao, account, epoch));\n  return Promise.all(calls);\n};\n\n/**\n *\n * @param {string} dao address\n * @param {number} epoch address\n * @return {Promise<string>}\n */\nexport const getOutstandingCoupons = async (dao, epoch) => {\n  const daoContract = new web3.eth.Contract(daoAbi, dao);\n  return daoContract.methods.outstandingCoupons(epoch).call();\n};\n\n/**\n *\n * @param {string} dao address\n * @param {number} epoch number\n * @return {Promise<string>}\n */\nexport const getCouponsExpiration = async (dao, epoch) => {\n  const daoContract = new web3.eth.Contract(daoAbi, dao);\n  return daoContract.methods.couponsExpiration(epoch).call();\n};\n\n/**\n *\n * @param {string} dao address\n * @param {number[]} epochs number[]\n * @return {Promise<string[]>}\n */\nexport const getBatchCouponsExpiration = async (dao, epochs) => {\n  const calls = epochs.map((epoch) => getCouponsExpiration(dao, epoch));\n  return Promise.all(calls);\n};\n\n/**\n *\n * @param {string} dao address\n * @param {string|BigNumber} amount uint256\n * @return {Promise<string>}\n */\nexport const getCouponPremium = async (dao, amount) => {\n  const daoContract = new web3.eth.Contract(daoAbi, dao);\n  return daoContract.methods.couponPremium(new BigNumber(amount).toFixed()).call();\n};\n\n/**\n *\n * @param {string} dao address\n * @return {Promise<string>}\n */\nexport const getImplementation = async (dao) => {\n  const daoContract = new web3.eth.Contract(daoAbi, dao);\n  return daoContract.methods.implementation().call();\n};\n\n/**\n *\n * @param {string} dao address\n * @return {Promise<string>}\n */\nexport const getPool = async (dao) => {\n  const daoContract = new web3.eth.Contract(daoAbi, dao);\n  return daoContract.methods.pool().call();\n};\n\n/**\n *\n * @param {string} dao\n * @param {string} account\n * @return {Promise<any[]>}\n */\nexport const getCouponEpochs = async (dao, account) => {\n  const daoContract = new web3.eth.Contract(daoAbi, dao);\n  const purchaseP = daoContract.getPastEvents('CouponPurchase', {\n    filter: { account },\n    fromBlock: 0,\n  });\n  const transferP = daoContract.getPastEvents('CouponTransfer', {\n    filter: { to: account },\n    fromBlock: 0,\n  });\n  const [bought, given] = await Promise.all([purchaseP, transferP]);\n  const events = bought.map((e) => ({epoch: e.returnValues.epoch, amount: e.returnValues.couponAmount}))\n    .concat(given.map((e) => ({epoch: e.returnValues.epoch, amount: 0})));\n\n  const couponEpochs = [\n    ...events.reduce(\n      (map, event) => {\n        const { epoch, amount } = event;\n        const prev = map.get(epoch);\n\n        if (prev) {\n          map.set(epoch, { epoch, coupons: prev.coupons.plus(new BigNumber(amount)) });\n        } else {\n          map.set(epoch, { epoch, coupons: new BigNumber(amount) });\n        }\n\n        return map;\n      },\n      new Map(),\n    ).values(),\n  ];\n\n  return couponEpochs.sort((a, b) => a - b);\n};\n\n/**\n *\n * @param {string} dao\n * @return {Promise<any[]>}\n */\nexport const getAllProposals = async (dao) => {\n  const daoContract = new web3.eth.Contract(daoAbi, dao);\n  const payload = (await daoContract.getPastEvents('Proposal', {\n    fromBlock: 0,\n  })).map((event) => {\n    const prop = event.returnValues;\n    prop.blockNumber = event.blockNumber;\n    return prop;\n  });\n  return payload.sort((a, b) => b.blockNumber - a.blockNumber);\n};\n\n/**\n *\n * @param {string} dao\n * @return {Promise<any[]>}\n */\nexport const getAllRegulations = async (dao) => {\n  const daoContract = new web3.eth.Contract(daoAbi, dao);\n  const increaseP = daoContract.getPastEvents('SupplyIncrease', { fromBlock: 0 });\n  const decreaseP = daoContract.getPastEvents('SupplyDecrease', { fromBlock: 0 });\n  const neutralP = daoContract.getPastEvents('SupplyNeutral', { fromBlock: 0 });\n\n  const [increase, decrease, neutral] = await Promise.all([increaseP, decreaseP, neutralP]);\n\n  const events = increase.map((e) => ({ type: 'INCREASE', data: e.returnValues }))\n    .concat(decrease.map((e) => ({ type: 'DECREASE', data: e.returnValues })))\n    .concat(neutral.map((e) => ({ type: 'NEUTRAL', data: e.returnValues })));\n\n  return events.sort((a, b) => b.data.epoch - a.data.epoch);\n};\n\n// Uniswap Protocol\n\nexport const getCost = async (amount) => {\n  const exchange = new web3.eth.Contract(uniswapRouterAbi, UniswapV2Router02);\n  // eslint-disable-next-line no-unused-vars\n  const [inputAmount, _] = await exchange.methods.getAmountsIn(\n    new BigNumber(amount).toFixed(),\n    [USDC.addr, EXED.addr],\n  ).call();\n  return inputAmount;\n};\n\nexport const getProceeds = async (amount) => {\n  const exchange = new web3.eth.Contract(uniswapRouterAbi, UniswapV2Router02);\n  // eslint-disable-next-line no-unused-vars\n  const [_, outputAmount] = await exchange.methods.getAmountsOut(\n    new BigNumber(amount).toFixed(),\n    [EXED.addr, USDC.addr],\n  ).call();\n  return outputAmount;\n};\n\nexport const getReserves = async () => {\n  const exchange = new web3.eth.Contract(uniswapPairAbi, UNI.addr);\n  return exchange.methods.getReserves().call();\n};\n\nexport const getInstantaneousPrice = async () => {\n  const [reserve, token0] = await Promise.all([getReserves(), getToken0()]);\n  const token0Balance = new BigNumber(reserve.reserve0);\n  const token1Balance = new BigNumber(reserve.reserve1);\n  if (token0.toLowerCase() === USDC.addr.toLowerCase()) {\n    return token0Balance.multipliedBy(new BigNumber(10).pow(12)).dividedBy(token1Balance);\n  }\n  return token1Balance.multipliedBy(new BigNumber(10).pow(12)).dividedBy(token0Balance);\n};\n\nexport const getToken0 = async () => {\n  const exchange = new web3.eth.Contract(uniswapPairAbi, UNI.addr);\n  return exchange.methods.token0().call();\n};\n\n// Pool\n\nexport const getPoolStatusOf = async (pool, account) => {\n  const poolContract = new web3.eth.Contract(poolAbi, pool);\n  return poolContract.methods.statusOf(account).call();\n};\n\n/**\n *\n * @param {string} pool address\n * @param {string} account address\n * @return {Promise<string>}\n */\nexport const getPoolBalanceOfBonded = async (pool, account) => {\n  if (account === '') return '0';\n  const poolContract = new web3.eth.Contract(poolAbi, pool);\n  return poolContract.methods.balanceOfBonded(account).call();\n};\n\n/**\n *\n * @param {string} pool address\n * @param {string} account address\n * @return {Promise<string>}\n */\nexport const getPoolBalanceOfStaged = async (pool, account) => {\n  const poolContract = new web3.eth.Contract(poolAbi, pool);\n  return poolContract.methods.balanceOfStaged(account).call();\n};\n\n/**\n *\n * @param {string} pool address\n * @param {string} account address\n * @return {Promise<string>}\n */\nexport const getPoolBalanceOfRewarded = async (pool, account) => {\n  if (account === '') return '0';\n  const poolContract = new web3.eth.Contract(poolAbi, pool);\n  return poolContract.methods.balanceOfRewarded(account).call();\n};\n\n/**\n *\n * @param {string} pool address\n * @param {string} account address\n * @return {Promise<string>}\n */\nexport const getPoolBalanceOfClaimable = async (pool, account) => {\n  const poolContract = new web3.eth.Contract(poolAbi, pool);\n  return poolContract.methods.balanceOfClaimable(account).call();\n};\n\n/**\n *\n * @param {string} pool address\n * @param {string} account address\n * @return {Promise<string>}\n */\nexport const getPoolTotalBonded = async (pool) => {\n  const poolContract = new web3.eth.Contract(poolAbi, pool);\n  return poolContract.methods.totalBonded().call();\n};\n\n/**\n *\n * @param {string} pool address\n * @param {string} account address\n * @return {Promise<string>}\n */\nexport const getPoolTotalRewarded = async (pool) => {\n  const poolContract = new web3.eth.Contract(poolAbi, pool);\n  return poolContract.methods.totalRewarded().call();\n};\n\n/**\n *\n * @param {string} pool address\n * @param {string} account address\n * @return {Promise<string>}\n */\nexport const getPoolTotalClaimable = async (pool) => {\n  const poolContract = new web3.eth.Contract(poolAbi, pool);\n  return poolContract.methods.totalClaimable().call();\n};\n\n/**\n *\n * @param {string} pool address\n * @param {string} account address\n * @return {Promise<string>}\n */\nexport const getPoolFluidUntil = async (pool, account) => {\n  const poolContract = new web3.eth.Contract(poolAbi, pool);\n\n  // no need to look back further than the pool lockup period\n  const blockNumber = await web3.eth.getBlockNumber();\n  const fromBlock = blockNumber - (POOL_EXIT_LOCKUP_EPOCHS + 1) * 8640;\n  const bondP = poolContract.getPastEvents('Bond', {\n    filter: {account: account}, fromBlock: fromBlock });\n  const unbondP = poolContract.getPastEvents('Unbond', {\n    filter: {account: account}, fromBlock: fromBlock });\n\n  const [bond, unbond] = await Promise.all([bondP, unbondP]);\n  const events = bond.map((e) => e.returnValues)\n    .concat(unbond.map((e) => e.returnValues));\n\n  const startEpoch = events.reduce(\n    (epoch, event) => {\n      if (epoch > event.start)\n        return epoch\n      else\n        return event.start\n    }, 0);\n\n  // these contract events report the start epoch as one more than the active\n  // epoch when the event is emitted, so we subtract 1 here to adjust\n  return (parseInt(startEpoch, 10) + POOL_EXIT_LOCKUP_EPOCHS - 1).toString();\n};\n","export const notify = {\n  hash: (v) => console.log(v)\n}","/* eslint-disable camelcase */\n// eslint-disable-next-line import/prefer-default-export\nexport const UniswapV2Router02 = '0x7a250d5630B4cF539739dF2C5dAcb4c659F2488D';\nexport const DollarPool1 = '0xB240ab960354009C1eEDe173c42965B5B49424f0';\nexport const DollarPool2 = '0xB240ab960354009C1eEDe173c42965B5B49424f0';\n","export const UNI = {\n  addr: '0xbAa3a4Eb65D46BFC94d21dd30228Ad7A94d708dd',\n  decimals: 18,\n  symbol: 'UNI',\n};\n\nexport const USDC = {\n  addr: '0xa0b86991c6218b36c1d19d4a2e9eb0ce3606eb48',\n  decimals: 6,\n  symbol: 'USDC',\n};\n\nexport const EXED = {\n  addr: '0x9baf5147505b980b2674aab556a51e03b3082efe',\n  decimals: 18,\n  symbol: 'EXED',\n};\n\nexport const EXEDS = {\n  addr: '0x60ad532f956b48d7f9fae3c1398197295f2f48e6',\n  decimals: 18,\n  symbol: 'EXEDS',\n};\n","/* eslint-disable camelcase */\nimport Web3 from 'web3';\nimport BigNumber from 'bignumber.js';\n\nimport { notify } from './txNotifier.ts';\nimport { UniswapV2Router02 } from '../constants/contracts';\n\nimport { EXED, USDC } from '../constants/tokens';\n\nconst uniswapRouterAbi = require('../constants/abi/UniswapV2Router02.json');\nconst testnetUSDCAbi = require('../constants/abi/TestnetUSDC.json');\nconst daoAbi = require('../constants/abi/Implementation.json');\nconst poolAbi = require('../constants/abi/Pool.json');\n\nconst DEADLINE_FROM_NOW = 60 * 15;\nconst UINT256_MAX = '0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff';\n\n/**\n * Connection Utilities\n */\n\nexport const updateModalMode = async (theme) => {\n  window.darkMode = theme === 'dark';\n};\n\nexport const connect = async (ethereum) => {\n  window.web3 = new Web3(ethereum);\n  let addresses = await window.web3.eth.getAccounts();\n  if (!addresses.length) {\n    try {\n      addresses = await window.ethereum.enable();\n    } catch (e) {\n      console.log(e);\n      return false;\n    }\n  }\n\n  return addresses.length ? addresses[0].toLowerCase() : null;\n};\n\n// eslint-disable-next-line consistent-return\nexport const checkConnectedAndGetAddress = async () => {\n  let addresses = await window.web3.eth.getAccounts();\n  if (!addresses.length) {\n    try {\n      addresses = await window.ethereum.enable();\n      // eslint-disable-next-line no-empty\n    } catch (e) { }\n  }\n\n  return addresses[0];\n};\n\n/**\n * ERC20 Utilities\n */\n\nexport const approve = async (tokenAddr, spender, amt = UINT256_MAX) => {\n  const account = await checkConnectedAndGetAddress();\n  const oToken = new window.web3.eth.Contract(testnetUSDCAbi, tokenAddr);\n  await oToken.methods\n    .approve(spender, amt)\n    .send({ from: account })\n    .on('transactionHash', (hash) => {\n      notify.hash(hash);\n    });\n};\n\nexport const mintTestnetUSDC = async (amount) => {\n  const account = await checkConnectedAndGetAddress();\n  const usdc = new window.web3.eth.Contract(testnetUSDCAbi, USDC.addr);\n\n  await usdc.methods.mint(account, new BigNumber(amount).toFixed())\n    .send({ from: account })\n    .on('transactionHash', (hash) => {\n      notify.hash(hash);\n    });\n};\n\n/**\n * Uniswap Protocol\n */\n\nexport const buyESD = async (buyAmount, maxInputAmount) => {\n  const account = await checkConnectedAndGetAddress();\n  const router = new window.web3.eth.Contract(uniswapRouterAbi, UniswapV2Router02);\n  const deadline = Math.ceil(Date.now() / 1000) + DEADLINE_FROM_NOW;\n\n  await router.methods.swapTokensForExactTokens(\n    buyAmount,\n    maxInputAmount,\n    [USDC.addr, EXED.addr],\n    account,\n    deadline,\n  )\n    .send({ from: account })\n    .on('transactionHash', (hash) => {\n      notify.hash(hash);\n    });\n};\n\nexport const sellESD = async (sellAmount, minOutputAmount) => {\n  const account = await checkConnectedAndGetAddress();\n  const router = new window.web3.eth.Contract(uniswapRouterAbi, UniswapV2Router02);\n  const deadline = Math.ceil(Date.now() / 1000) + DEADLINE_FROM_NOW;\n\n  await router.methods.swapExactTokensForTokens(\n    sellAmount,\n    minOutputAmount,\n    [EXED.addr, USDC.addr],\n    account,\n    deadline,\n  )\n    .send({ from: account })\n    .on('transactionHash', (hash) => {\n      notify.hash(hash);\n    });\n};\n\nexport const addLiquidity = async (amountESD, amountUSDC, slippage) => {\n  const account = await checkConnectedAndGetAddress();\n  const router = new window.web3.eth.Contract(uniswapRouterAbi, UniswapV2Router02);\n  const deadline = Math.ceil(Date.now() / 1000) + DEADLINE_FROM_NOW;\n  const slippageBN = new BigNumber(slippage);\n  const minAmountESD = new BigNumber(amountESD)\n    .multipliedBy(new BigNumber(1).minus(slippageBN))\n    .integerValue(BigNumber.ROUND_FLOOR);\n  const minAmountUSDC = new BigNumber(amountUSDC)\n    .multipliedBy(new BigNumber(1).minus(slippageBN))\n    .integerValue(BigNumber.ROUND_FLOOR);\n\n  await router.methods.addLiquidity(\n    EXED.addr,\n    USDC.addr,\n    new BigNumber(amountESD).toFixed(),\n    new BigNumber(amountUSDC).toFixed(),\n    minAmountESD,\n    minAmountUSDC,\n    account,\n    deadline,\n  )\n    .send({ from: account })\n    .on('transactionHash', (hash) => {\n      notify.hash(hash);\n    });\n};\n\nexport const removeLiquidity = async (liquidityAmount, minAmountESD, minAmountUSDC) => {\n  const account = await checkConnectedAndGetAddress();\n  const router = new window.web3.eth.Contract(uniswapRouterAbi, UniswapV2Router02);\n  const deadline = Math.ceil(Date.now() / 1000) + DEADLINE_FROM_NOW;\n\n  await router.methods.removeLiquidity(\n    EXED.addr,\n    USDC.addr,\n    new BigNumber(liquidityAmount).toFixed(),\n    new BigNumber(minAmountESD).toFixed(),\n    new BigNumber(minAmountUSDC).toFixed(),\n    account,\n    deadline,\n  )\n    .send({ from: account })\n    .on('transactionHash', (hash) => {\n      notify.hash(hash);\n    });\n};\n\n/**\n * EXED Protocol\n */\n\nexport const advance = async (dao) => {\n  const account = await checkConnectedAndGetAddress();\n  const daoContract = new window.web3.eth.Contract(daoAbi, dao);\n  await daoContract.methods\n    .advance()\n    .send({\n      from: account,\n    })\n    .on('transactionHash', (hash) => {\n      notify.hash(hash);\n    });\n};\n\nexport const deposit = async (dao, amount) => {\n  const account = await checkConnectedAndGetAddress();\n  const daoContract = new window.web3.eth.Contract(daoAbi, dao);\n  await daoContract.methods\n    .deposit(new BigNumber(amount).toFixed())\n    .send({\n      from: account,\n    })\n    .on('transactionHash', (hash) => {\n      notify.hash(hash);\n    });\n};\n\nexport const withdraw = async (dao, amount) => {\n  const account = await checkConnectedAndGetAddress();\n  const daoContract = new window.web3.eth.Contract(daoAbi, dao);\n  await daoContract.methods\n    .withdraw(new BigNumber(amount).toFixed())\n    .send({\n      from: account,\n    })\n    .on('transactionHash', (hash) => {\n      notify.hash(hash);\n    });\n};\n\nexport const bond = async (dao, amount) => {\n  const account = await checkConnectedAndGetAddress();\n  const daoContract = new window.web3.eth.Contract(daoAbi, dao);\n  await daoContract.methods\n    .bond(new BigNumber(amount).toFixed())\n    .send({\n      from: account,\n    })\n    .on('transactionHash', (hash) => {\n      notify.hash(hash);\n    });\n};\n\nexport const unbond = async (dao, amount) => {\n  const account = await checkConnectedAndGetAddress();\n  const daoContract = new window.web3.eth.Contract(daoAbi, dao);\n  await daoContract.methods\n    .unbond(new BigNumber(amount).toFixed())\n    .send({\n      from: account,\n    })\n    .on('transactionHash', (hash) => {\n      notify.hash(hash);\n    });\n};\n\nexport const unbondUnderlying = async (dao, amount) => {\n  const account = await checkConnectedAndGetAddress();\n  const daoContract = new window.web3.eth.Contract(daoAbi, dao);\n  await daoContract.methods\n    .unbondUnderlying(new BigNumber(amount).toFixed())\n    .send({\n      from: account,\n    })\n    .on('transactionHash', (hash) => {\n      notify.hash(hash);\n    });\n};\n\nexport const purchaseCoupons = async (dao, amount) => {\n  const account = await checkConnectedAndGetAddress();\n  const daoContract = new window.web3.eth.Contract(daoAbi, dao);\n  await daoContract.methods\n    .purchaseCoupons(new BigNumber(amount).toFixed())\n    .send({\n      from: account,\n    })\n    .on('transactionHash', (hash) => {\n      notify.hash(hash);\n    });\n};\n\nexport const redeemCoupons = async (dao, epoch, amount) => {\n  const account = await checkConnectedAndGetAddress();\n  const daoContract = new window.web3.eth.Contract(daoAbi, dao);\n  await daoContract.methods\n    .redeemCoupons(epoch, new BigNumber(amount).toFixed())\n    .send({\n      from: account,\n    })\n    .on('transactionHash', (hash) => {\n      notify.hash(hash);\n    });\n};\n\nexport const migrateCoupons = async (dao, epoch) => {\n  const account = await checkConnectedAndGetAddress();\n  const daoContract = new window.web3.eth.Contract(daoAbi, dao);\n  await daoContract.methods\n    .migrateCoupons(epoch)\n    .send({\n      from: account,\n    })\n    .on('transactionHash', (hash) => {\n      notify.hash(hash);\n    });\n};\n\nexport const recordVote = async (dao, candidate, voteType) => {\n  const account = await checkConnectedAndGetAddress();\n  const daoContract = new window.web3.eth.Contract(daoAbi, dao);\n  await daoContract.methods\n    .vote(candidate, voteType)\n    .send({\n      from: account,\n    })\n    .on('transactionHash', (hash) => {\n      notify.hash(hash);\n    });\n};\n\nexport const commit = async (dao, candidate) => {\n  const account = await checkConnectedAndGetAddress();\n  const daoContract = new window.web3.eth.Contract(daoAbi, dao);\n  await daoContract.methods\n    .commit(candidate)\n    .send({\n      from: account,\n    })\n    .on('transactionHash', (hash) => {\n      notify.hash(hash);\n    });\n};\n\n/* UNI-V2 Incentivization Pool */\nexport const depositPool = async (pool, amount, callback) => {\n  const account = await checkConnectedAndGetAddress();\n  const poolContract = new window.web3.eth.Contract(poolAbi, pool);\n  await poolContract.methods\n    .deposit(new BigNumber(amount).toFixed())\n    .send({\n      from: account,\n    })\n    .on('transactionHash', (hash) => {\n      notify.hash(hash);\n      callback(hash);\n    });\n};\n\nexport const withdrawPool = async (pool, amount, callback) => {\n  const account = await checkConnectedAndGetAddress();\n  const poolContract = new window.web3.eth.Contract(poolAbi, pool);\n  await poolContract.methods\n    .withdraw(new BigNumber(amount).toFixed())\n    .send({\n      from: account,\n    })\n    .on('transactionHash', (hash) => {\n      notify.hash(hash);\n      callback(hash);\n    });\n};\n\nexport const bondPool = async (pool, amount, callback) => {\n  const account = await checkConnectedAndGetAddress();\n  const poolContract = new window.web3.eth.Contract(poolAbi, pool);\n  await poolContract.methods\n    .bond(new BigNumber(amount).toFixed())\n    .send({\n      from: account,\n    })\n    .on('transactionHash', (hash) => {\n      notify.hash(hash);\n      callback(hash);\n    });\n};\n\nexport const unbondPool = async (pool, amount, callback) => {\n  const account = await checkConnectedAndGetAddress();\n  const poolContract = new window.web3.eth.Contract(poolAbi, pool);\n  await poolContract.methods\n    .unbond(new BigNumber(amount).toFixed())\n    .send({\n      from: account,\n    })\n    .on('transactionHash', (hash) => {\n      notify.hash(hash);\n      callback(hash);\n    });\n};\n\nexport const claimPool = async (pool, amount, callback) => {\n  const account = await checkConnectedAndGetAddress();\n  const poolContract = new window.web3.eth.Contract(poolAbi, pool);\n  await poolContract.methods\n    .claim(new BigNumber(amount).toFixed())\n    .send({\n      from: account,\n    })\n    .on('transactionHash', (hash) => {\n      notify.hash(hash);\n      callback(hash);\n    });\n};\n\nexport const providePool = async (pool, amount, callback) => {\n  const account = await checkConnectedAndGetAddress();\n  const poolContract = new window.web3.eth.Contract(poolAbi, pool);\n  await poolContract.methods\n    .provide(new BigNumber(amount).toFixed())\n    .send({\n      from: account,\n    })\n    .on('transactionHash', (hash) => {\n      notify.hash(hash);\n      callback(hash);\n    });\n};\n","import BigNumber from 'bignumber.js';\n\n// eslint-disable-next-line import/prefer-default-export\nexport const MAX_UINT256 = new BigNumber(2).pow(256).minus(1);\nexport const GOVERNANCE_QUORUM = new BigNumber('0.20');\nexport const GOVERNANCE_PROPOSAL_THRESHOLD = new BigNumber('0.005');\nexport const COUPON_EXPIRATION = 90\nexport const DAO_EXIT_LOCKUP_EPOCHS = 15\nexport const POOL_EXIT_LOCKUP_EPOCHS = 5\n","import BigNumber from 'bignumber.js';\n\n/**\n * Convert 10.999 to 10999000\n */\nexport function toBaseUnitBN(rawAmt:string| number| BigNumber, decimals: number):BigNumber {\n  const raw = new BigNumber(rawAmt);\n  const base = new BigNumber(10);\n  const decimalsBN = new BigNumber(decimals);\n  return raw.times(base.pow(decimalsBN)).integerValue();\n}\n\n/**\n * Convert 10999000 to 10.999\n */\nexport const toTokenUnitsBN = (tokenAmount:string|number|BigNumber, tokenDecimals:number): BigNumber => {\n  const amt = new BigNumber(tokenAmount);\n  const digits = new BigNumber(10).pow(new BigNumber(tokenDecimals));\n  return amt.div(digits);\n};\n\nexport const isPos = (amount: BigNumber): boolean => {\n  return !amount.isZero() && amount.isPositive();\n};\n\nexport const ownership = (balance: BigNumber, totalSupply: BigNumber): BigNumber => {\n  return balance.multipliedBy(new BigNumber(100)).dividedBy(totalSupply);\n}\n\n/**\n * BigNumber string formatting\n */\n\nexport const formatBN = (amount: BigNumber, position: number): string => {\n  if (amount.isLessThan(new BigNumber(1))) {\n    return pad(amount.precision(position, BigNumber.ROUND_FLOOR).toFixed(), position);\n\n  }\n  return delineate(amount.toFixed(position, BigNumber.ROUND_FLOOR));\n}\n\nfunction delineate(bnStr) {\n  const parts = bnStr.split('.');\n  return parts[0].toString().replace(/\\B(?=(\\d{3})+(?!\\d))/g, \",\") + \".\" + parts[1];\n}\n\nfunction pad(bnStr, position) {\n  if (!bnStr.includes(\".\")) {\n    bnStr += \".\";\n  }\n\n  const parts = bnStr.split(\".\");\n  for (let i = 0; i < position - parts[1].length; i++) {\n    bnStr += \"0\";\n  }\n\n  return bnStr\n}\n\nexport function formatMoney(n) {\n  n = n.toPrecision(3)\n  return Math.abs(Number(n)) >= 1.0e+9\n    ? Math.abs(Number(n)) / 1.0e+9 + \"B\"\n    : Math.abs(Number(n)) >= 1.0e+6\n      ? Math.abs(Number(n)) / 1.0e+6 + \"MM\"\n      : Math.abs(Number(n)) >= 1.0e+3\n        ? Math.abs(Number(n)) / 1.0e+3 + \"K\"\n        : Math.abs(Number(n));\n}","import { getPool } from \"./infura\";\nimport { EXEDS } from \"../constants/tokens\";\nimport {DollarPool1, DollarPool2} from \"../constants/contracts\";\n\nexport async function getPoolAddress(): Promise<string> {\n  const pool = await getPool(EXEDS.addr);\n  if (pool.toLowerCase() === DollarPool2.toLowerCase()) {\n    return DollarPool2;\n  }\n\n  throw new Error(\"Unrecognized Pool Address\");\n}\n\nexport function getLegacyPoolAddress(poolAddress): string {\n  if (poolAddress === DollarPool2) {\n    return DollarPool1;\n  }\n\n  throw new Error(\"Unrecognized Pool Address\");\n}\n","import React, {useEffect, useState} from 'react';\nimport BigNumber from \"bignumber.js\";\nimport {\n  getBalanceBonded,\n  getBalanceOfStaged,\n  getPoolBalanceOfBonded, getPoolBalanceOfClaimable, getPoolBalanceOfRewarded, getPoolBalanceOfStaged,\n  getTokenBalance,\n  getTokenTotalSupply\n} from \"../../utils/infura\";\nimport {EXED, EXEDS, UNI} from \"../../constants/tokens\";\nimport {formatBN, toTokenUnitsBN} from \"../../utils/number\";\nimport {getPoolAddress} from \"../../utils/pool\";\n\ntype TotalBalanceProps = {\n  user: string,\n}\n\nfunction TotalBalance({ user }: TotalBalanceProps) {\n  const [totalBalance, setTotalBalance] = useState(new BigNumber(0));\n\n  //Update User balances\n  useEffect(() => {\n    if (user === '') {\n      setTotalBalance(new BigNumber(0));\n      return;\n    }\n    let isCancelled = false;\n\n    async function updateUserInfo() {\n      const poolAddress = await getPoolAddress();\n\n      const [\n        esdBalance, stagedBalance, bondedBalance,\n        pairBalanceESDStr, pairTotalSupplyUNIStr, userUNIBalanceStr,\n        userPoolBondedBalanceStr, userPoolStagedBalanceStr,\n        userPoolRewardedBalanceStr, userPoolClaimableBalanceStr,\n      ] = await Promise.all([\n        getTokenBalance(EXED.addr, user),\n        getBalanceOfStaged(EXEDS.addr, user),\n        getBalanceBonded(EXEDS.addr, user),\n\n        getTokenBalance(EXED.addr, UNI.addr),\n        getTokenTotalSupply(UNI.addr),\n        getTokenBalance(UNI.addr, user),\n        getPoolBalanceOfBonded(poolAddress, user),\n        getPoolBalanceOfStaged(poolAddress, user),\n        getPoolBalanceOfRewarded(poolAddress, user),\n        getPoolBalanceOfClaimable(poolAddress, user),\n      ]);\n\n      const userBalance = toTokenUnitsBN(new BigNumber(esdBalance), EXED.decimals);\n      const userStagedBalance = toTokenUnitsBN(new BigNumber(stagedBalance), EXEDS.decimals);\n      const userBondedBalance = toTokenUnitsBN(new BigNumber(bondedBalance), EXEDS.decimals);\n\n      const userUNIBalance = toTokenUnitsBN(new BigNumber(userUNIBalanceStr), EXEDS.decimals);\n      const userPoolBondedBalance = toTokenUnitsBN(new BigNumber(userPoolBondedBalanceStr), EXEDS.decimals);\n      const userPoolStagedBalance = toTokenUnitsBN(new BigNumber(userPoolStagedBalanceStr), EXEDS.decimals);\n      const userPoolRewardedBalance = toTokenUnitsBN(new BigNumber(userPoolRewardedBalanceStr), EXEDS.decimals);\n      const userPoolClaimableBalance = toTokenUnitsBN(new BigNumber(userPoolClaimableBalanceStr), EXEDS.decimals);\n\n      const UNItoESD = new BigNumber(pairBalanceESDStr).dividedBy(new BigNumber(pairTotalSupplyUNIStr));\n\n      const daoTotalBalance = userStagedBalance.plus(userBondedBalance);\n      const poolTotalBalance = UNItoESD.multipliedBy(userPoolStagedBalance.plus(userPoolBondedBalance))\n        .plus(userPoolRewardedBalance.plus(userPoolClaimableBalance));\n      const circulationBalance = UNItoESD.multipliedBy(userUNIBalance).plus(userBalance)\n\n      const totalBalance = daoTotalBalance.plus(poolTotalBalance).plus(circulationBalance)\n\n      if (!isCancelled) {\n        setTotalBalance(totalBalance);\n      }\n    }\n\n    updateUserInfo();\n    const id = setInterval(updateUserInfo, 15000);\n\n    // eslint-disable-next-line consistent-return\n    return () => {\n      isCancelled = true;\n      clearInterval(id);\n    };\n  }, [user]);\n\n  return (\n    <div style={{ fontSize: 14, padding: 3, fontWeight: 400, lineHeight: 1.5, fontFamily: 'aragon-ui-monospace, monospace'}}>\n      {formatBN(totalBalance, 2)} EXED\n    </div>\n  );\n}\n\n\nexport default TotalBalance;\n","import React, { useEffect } from 'react';\nimport { Modal, Button, Header } from '@aragon/ui';\nimport { useWallet } from 'use-wallet';\n\ntype ConnectModalProps = {\n  visible: boolean,\n  onClose: Function,\n  onConnect: Function\n};\n\nfunction ConnectModal({\n  visible, onClose, onConnect\n}:ConnectModalProps) {\n  const wallet = useWallet();\n\n  const connectMetamask = () => {\n    wallet.connect(\"injected\");\n  };\n\n  const connectWalletConnect = () => {\n    wallet.connect(\"walletconnect\");\n  };\n\n  const connectCoinbase = () => {\n    wallet.connect(\"walletlink\");\n  };\n\n  useEffect(() => {\n    if (wallet.account) {\n      onConnect && onConnect(wallet);\n      onClose && onClose();\n    }\n  }, [wallet, onConnect, onClose]);\n\n  return (\n    <Modal visible={visible} onClose={onClose}>\n      <Header primary=\"Select a wallet provider\" />\n\n      <div style={{width: '50%', margin: 'auto', padding: '1%'}}>\n        <Button\n        className=\"btn btn-primary\"\n          wide\n          label={'Metamask'}\n          icon={<img src={`./wallets/metamask-fox.svg`} style={{ height: 24 }} alt=\"Metamask\"/>}\n          onClick={connectMetamask}\n        />\n      </div>\n      <div style={{width: '50%', margin: 'auto', padding: '1%'}}>\n        <Button\n        className=\"btn btn-primary\"\n          wide\n          label={'WalletConnect'}\n          icon={<img src={`./wallets/wallet-connect.svg`} style={{ height: 24 }} alt=\"WalletConnect\"/>}\n          onClick={connectWalletConnect}\n        />\n      </div>\n      <div style={{width: '50%', margin: 'auto', padding: '1%'}}>\n        <Button\n        className=\"btn btn-primary\"\n          wide\n          label={'Coinbase Wallet'}\n          icon={<img src={`./wallets/coinbase-wallet.png`} style={{ height: 24 }} alt=\"Coinbase Wallet\"/>}\n          onClick={connectCoinbase}\n        />\n      </div>\n    </Modal>\n  );\n}\n\nexport default ConnectModal;\n","import React, { useState } from 'react';\nimport { useWallet } from 'use-wallet';\n\nimport {\n  IdentityBadge, IconConnect, Box, IconPower, LinkBase,\n} from '@aragon/ui';\n\nimport { connect } from '../../utils/web3';\nimport TotalBalance from \"./TotalBalance\";\nimport ConnectModal from './ConnectModal';\n\ntype connectButtonProps = {\n  hasWeb3: boolean,\n  user: string,\n  setUser: Function\n}\n\nfunction ConnectButton({ hasWeb3, user, setUser }: connectButtonProps) {\n  const { status, reset } = useWallet();\n\n  const [isModalOpen, setModalOpen] = useState(false);\n\n  const connectWeb3 = async (wallet) => {\n    connect(wallet.ethereum);\n    setUser(wallet.account);\n  };\n\n  const disconnectWeb3 = async () => {\n    setUser('');\n    reset();\n  };\n\n  const toggleModal = () => setModalOpen(!isModalOpen);\n\n  return status === 'connected' ? (\n    <div style={{display: 'flex'}}>\n      <div style={{flex: '1'}}/>\n      <div>\n        <Box className=\"connect-panel\" padding={4} style={{width: '192px'}}>\n          <div style={{display: 'flex'}}>\n            <div>\n              <LinkBase onClick={disconnectWeb3} style={{marginRight: '8px', height: '24px'}}>\n                <IconPower />\n              </LinkBase>\n            </div>\n            <div style={{flex: '1', textAlign: 'right'}}>\n              <IdentityBadge entity={user} />\n            </div>\n          </div>\n          <div style={{display: 'flex'}}>\n            <div style={{flex: '1', textAlign: 'right'}}>\n              <TotalBalance user={user} />\n            </div>\n          </div>\n        </Box>\n      </div>\n    </div>\n  ) : (\n    <>\n      <ConnectModal visible={isModalOpen} onClose={toggleModal} onConnect={connectWeb3}/>\n      <button className='btn btn-primary' onClick={toggleModal} disabled={!hasWeb3}>Connect</button>\n    </>\n  );\n}\n\n\nexport default ConnectButton;\n","import React from 'react';\nimport { NavLink } from 'react-router-dom';\n\nimport { LinkBase, useTheme } from '@aragon/ui';\nimport ConnectButton from './ConnectButton';\n\ntype NavbarProps = {\n  hasWeb3: boolean;\n  user: string;\n  setUser: Function;\n};\n\nfunction NavBar({ hasWeb3, user, setUser }: NavbarProps) {\n  const currentTheme = useTheme();\n  const logoUrl = `./logo/logo_${currentTheme._name === 'light' ? 'black' : 'white'}.svg`;\n\n  return (\n    <>\n      <div\n        style={{\n          backgroundColor: 'none',\n          textAlign: 'center',\n          height: '128px',\n          width: '100%',\n          fontSize: '14px',\n        }}\n      >\n        <div style={{ maxWidth: '1100px', marginLeft: 'auto', marginRight: 'auto' }}>\n          <div style={{ display: 'flex', paddingTop: '24px' }}>\n            <div style={{ width: '80%', textAlign: 'center' }}>\n              <LinkButton title=\"Home\" to=\"/\" />\n              <LinkButton title=\"DAO\" to=\"/dao/\" />\n              <LinkButton title=\"Pool\" to=\"/pool/\" />\n              <LinkButton title=\"Regulation\" to=\"/regulation/\" />\n              <LinkButton title=\"Governance\" to=\"/governance/\" />\n              <LinkButton title=\"Trade\" to=\"/trade/\" />\n              <LinkButton title=\"Coupons\" to=\"/coupons/\" />\n            </div>\n            <div style={{ width: '20%', textAlign: 'right' }}>\n              <ConnectButton hasWeb3={hasWeb3} user={user} setUser={setUser} />\n            </div>\n          </div>\n        </div>\n      </div>\n    </>\n  );\n}\n\ntype linkButtonProps = {\n  title: string;\n  to: string;\n};\n\nfunction LinkButton({ title, to }: linkButtonProps) {\n  return (\n    <NavLink\n      to={to}\n      component={LinkBase}\n      external={false}\n      style={{\n        display: 'inline-flex',\n        alignItems: 'center',\n        marginLeft: '8px',\n        marginRight: '8px',\n        height: '40px',\n        opacity: 0.5,\n      }}\n      activeStyle={{ opacity: 1 }}\n    >\n      <span style={{ display: 'block', padding: '1%', fontSize: '17px' }}>{title}</span>\n    </NavLink>\n  );\n}\n\nexport default NavBar;\n","import React from 'react';\n\ntype EpochBlockProps = {\n  epoch: string\n}\n\nfunction EpochBlock({ epoch }: EpochBlockProps) {\n  return (\n    <>\n      <div style={{ fontSize: 16, padding: 3 }}>Epoch</div>\n      <div style={{ fontSize: 24, padding: 3, fontWeight: 400, lineHeight: 1.5, fontFamily: 'aragon-ui-monospace, monospace'}}>{epoch}</div>\n    </>\n  );\n}\n\nexport default EpochBlock;\n","import React, {useEffect, useState} from 'react';\nimport { useHistory } from 'react-router-dom';\nimport {\n  Box, LinkBase, Tag,\n} from '@aragon/ui';\nimport EpochBlock from \"../common/EpochBlock\";\n\nfunction epochformatted() {\n  const epochStart = 1611777600;\n  const epochPeriod = 24 * 60 * 60;\n  const hour = 60 * 60;\n  const minute = 60;\n  const unixTimeSec = Math.floor(Date.now() / 1000);\n\n  let epochRemainder = unixTimeSec - epochStart\n  const epoch = Math.floor(epochRemainder / epochPeriod);\n  epochRemainder -= epoch * epochPeriod;\n  const epochHour = Math.floor(epochRemainder / hour);\n  epochRemainder -= epochHour * hour;\n  const epochMinute = Math.floor(epochRemainder / minute);\n  epochRemainder -= epochMinute * minute;\n  return `${epoch}-0${epochHour}:${epochMinute > 9 ? epochMinute : \"0\" + epochMinute.toString()}:${epochRemainder > 9 ? epochRemainder : \"0\" + epochRemainder.toString()}`;\n}\n\ntype HomePageProps = {\n  user: string\n};\n\nfunction HomePage({user}: HomePageProps) {\n  const history = useHistory();\n\n  const [epochTime, setEpochTime] = useState(\"0-00:00:00\");\n\n  useEffect(() => {\n    let isCancelled = false;\n\n    async function updateUserInfo() {\n      if (!isCancelled) {\n        setEpochTime(epochformatted())\n      }\n    }\n    updateUserInfo();\n    const id = setInterval(updateUserInfo, 1000);\n\n    // eslint-disable-next-line consistent-return\n    return () => {\n      isCancelled = true;\n      clearInterval(id);\n    };\n  }, [user]);\n\n  return (\n    <>\n      <div style={{ padding: '1%', display: 'flex', flexWrap: 'wrap', alignItems: 'center' }}>\n        <div style={{ flexBasis: '68%' }} />\n        <div style={{ flexBasis: '30%', flexGrow: 1, marginRight: '2%', textAlign: 'right'}}>\n          \n          <div className='card'>\n            <div className='card-body'>\n              <EpochBlock epoch={epochTime}/>\n            </div>\n          </div>\n        </div>\n      </div>\n      <div style={{ padding: '1%', display: 'flex', flexWrap: 'wrap', alignItems: 'center' }}>\n        <div style={{ flexBasis: '30%', marginRight: '3%', marginLeft: '2%'  }}>\n          <MainButton\n            title=\"DAO\"\n            description=\"Earn rewards for governing\"\n            icon={<i className=\"fas fa-dot-circle\"/>}\n            onClick={() => {\n              history.push('/dao/');\n            }}\n          />\n        </div>\n\n        <div style={{ flexBasis: '30%' }}>\n          <MainButton\n            title=\"LP Rewards\"\n            description=\"Earn rewards for providing liquidity.\"\n            icon={<i className=\"fas fa-parachute-box\"/>}\n            onClick={() => {\n              history.push('/pool/');\n            }}\n          />\n        </div>\n\n        <div style={{ flexBasis: '30%', marginLeft: '3%', marginRight: '2%' }}>\n          <MainButton\n            title=\"Regulation\"\n            description=\"Network supply regulation statistics.\"\n            icon={<i className=\"fas fa-chart-area\"/>}\n            onClick={() => {\n              history.push('/regulation/');\n            }}\n          />\n        </div>\n      </div>\n      <div style={{ padding: '1%', display: 'flex', flexWrap: 'wrap', alignItems: 'center' }}>\n        <div style={{ flexBasis: '30%', marginRight: '3%', marginLeft: '2%' }}>\n          <MainButton\n            title=\"Governance\"\n            description=\"Vote on upgrades.\"\n            icon={<i className=\"fas fa-poll\"/>}\n            onClick={() => {\n              history.push('/governance/');\n            }}\n          />\n        </div>\n\n        <div style={{ flexBasis: '30%' }}>\n          <MainButton\n            title=\"Trade\"\n            description=\"Trade Exedum tokens.\"\n            icon={<i className=\"fas fa-exchange-alt\"/>}\n            onClick={() => {\n              history.push('/trade/');\n            }}\n          />\n        </div>\n\n        <div style={{ flexBasis: '30%', marginLeft: '3%', marginRight: '2%'  }}>\n          <MainButton\n            title=\"Coupons\"\n            description=\"Purchase and redeem coupons.\"\n            icon={<i className=\"fas fa-ticket-alt\"/>}\n            onClick={() => {\n              history.push('/coupons/');\n            }}\n          />\n        </div>\n      </div>\n    </>\n  );\n}\n\ntype MainButtonPropx = {\n  title: string,\n  description: string,\n  icon: any,\n  onClick: Function,\n  tag?:string\n}\n\nfunction MainButton({\n  title, description, icon, onClick, tag,\n}:MainButtonPropx) {\n  return (\n    <LinkBase onClick={onClick} style={{ width: '100%' }}>\n      <div className='card'>\n        <div className='card-body'>\n          <div style={{ padding: 10, fontSize: 18 }}>\n            {title}\n            {tag ? <Tag>{tag}</Tag> : <></>}\n          </div>\n          <span style={{ fontSize: 48 }}>\n            {icon}\n          </span>\n          {/*<img alt=\"icon\" style={{ padding: 10, height: 64 }} src={iconUrl} />*/}\n          <div style={{ paddingTop: 5, opacity: 0.5 }}>\n            {' '}\n            {description}\n            {' '}\n          </div>\n        </div>\n      </div>\n    </LinkBase>\n  );\n}\n\nexport default HomePage;\n","import React from 'react';\nimport { IdentityBadge } from '@aragon/ui';\n\ntype AddressBlockProps = {\n  label:string,\n  address: string\n}\n\nfunction AddressBlock({ label, address }: AddressBlockProps) {\n  return (\n    <>\n      <div style={{ fontSize: 16, padding: 3 }}>{label}</div>\n      <div style={{ padding: 5 }}>\n        <IdentityBadge entity={address} shorten />\n      </div>\n    </>\n  );\n}\n\nexport default AddressBlock;\n","import React from 'react';\n\nimport BigNumber from 'bignumber.js';\nimport {formatBN} from \"../../utils/number\";\n\ntype BlanceBlockProps = {\n  asset: string,\n  balance: BigNumber | string | number\n  suffix?: string\n}\n\nfunction BalanceBlock({ asset, balance, suffix=\"\"}: BlanceBlockProps) {\n  let integer = '0';\n  let digits = '0';\n  const balanceBN = new BigNumber(balance);\n  if (balanceBN.gte(new BigNumber(0))) {\n    const tokens = formatBN(balanceBN, 2).split('.')\n    integer = tokens[0];\n    digits = tokens[1];\n  }\n\n  return (\n    <>\n      <div style={{ fontSize: 14, padding: 3 }}>{asset}</div>\n      <div style={{ padding: 3 }}>\n        <span style={{ fontSize: 24 }}>{integer}</span>\n        .\n        <span style={{ fontSize: 18 }}>\n          {' '}\n          {digits}\n          {' '}\n        </span>\n        {suffix === \"\" ? '' : <span style={{ fontSize: 18 }}>{suffix}</span> }\n      </div>\n    </>\n  );\n}\n\nexport default BalanceBlock;\n","import React from 'react';\n\nimport {\n  ButtonBase,\n} from '@aragon/ui';\n\nfunction MaxButton({ onClick }:{ onClick: Function }) {\n  return (\n    <div style={{ padding: 3 }}>\n      <ButtonBase onClick={onClick}>\n        <span style={{ opacity: 0.5 }}> Max </span>\n      </ButtonBase>\n    </div>\n  );\n}\n\nexport default MaxButton;\n","import React from 'react';\nimport BigNumber from 'bignumber.js';\n\nfunction PriceSection({\n  label, amt, symbol = '', forceDisplay = false,\n}:{label:string, amt: string|number|BigNumber, symbol?:string, forceDisplay?:boolean }) {\n  const amtBN = new BigNumber(amt);\n  if (amtBN.gt(new BigNumber(0)) || forceDisplay) {\n    return (\n      <div style={{ padding: 3, opacity: 0.5 }}>\n        <span style={{ fontSize: 13 }}>{label}</span>\n        <span style={{ fontSize: 13 }}>{amtBN.toNumber().toFixed(5)}</span>\n        <span style={{ fontSize: 13 }}>{symbol}</span>\n      </div>\n    );\n  }\n  return <div style={{ padding: 3, opacity: 0.5 }} />;\n}\n\n\nexport default PriceSection;\n","import React, { ReactChild } from 'react';\n\ntype commentProps = {\n  text: string | ReactChild\n}\n\nfunction Comment({ text }: commentProps) {\n  return (\n    <div style={{ padding: 5, opacity: 0.5 }}>\n      {text}\n    </div>\n  );\n}\n\nexport default Comment;\n","import styled from 'styled-components';\n\nconst FlexWrapper = styled.div`\n  // display: flex;\n  padding-left: 20%;\n  padding-right: 20%;\n`;\n\nexport default FlexWrapper;\n","import React from 'react';\nimport { Checkbox, useTheme } from '@aragon/ui';\nimport styled from 'styled-components';\n\ntype checkBoxProps = {\n  text: string,\n  checked: boolean,\n  onCheck: Function\n}\n\nfunction MyCheckBox({ text, checked, onCheck }: checkBoxProps) {\n  const theme = useTheme();\n  return (\n    <CheckBoxWrapper theme={theme}>\n      <Checkbox\n        checked={checked}\n        onChange={onCheck}\n      />\n      <span style={{ margin: '4px' }}>\n        {text}\n      </span>\n      <br />\n    </CheckBoxWrapper>\n  );\n}\n\nexport default MyCheckBox;\n\nconst CheckBoxWrapper = styled.div`{\n  display: flex;\n  font-size: 14px;\n  color: ${(props) => props.theme.surfaceContentSecondary}\n}`;","import React from 'react';\nimport BigNumber from 'bignumber.js';\n\nimport { BalanceBlock, AddressBlock } from '../common/index';\n\ntype TradePageHeaderProps = {\n  pairBalanceESD: BigNumber,\n  pairBalanceUSDC: BigNumber,\n  uniswapPair: string,\n};\n\nconst TradePageHeader = ({\n  pairBalanceESD, pairBalanceUSDC, uniswapPair,\n}: TradePageHeaderProps) => {\n  const price = pairBalanceUSDC.dividedBy(pairBalanceESD);\n\n  return (\n    <div style={{ padding: '2%', display: 'flex', flexWrap: 'wrap', alignItems: 'center' }}>\n      <div style={{ flexBasis: '25%' }}>\n        <BalanceBlock asset=\"EXED Price\" balance={price} suffix={\"USDC\"}/>\n      </div>\n      <div style={{ flexBasis: '25%' }}>\n        <BalanceBlock asset=\"EXED Liquidity\" balance={pairBalanceESD} suffix={\"EXED\"}/>\n      </div>\n      <div style={{ flexBasis: '25%' }}>\n        <BalanceBlock asset=\"USDC Liquidity\" balance={pairBalanceUSDC} suffix={\"USDC\"}/>\n      </div>\n      <div style={{ flexBasis: '25%' }}>\n        <>\n          <AddressBlock label=\"Uniswap Contract\" address={uniswapPair} />\n        </>\n      </div>\n    </div>\n  );\n}\n\n\nexport default TradePageHeader;\n","import React from 'react';\n\nimport {\n  Header,\n} from '@aragon/ui';\n\ntype IconHeaderProps = {\n  icon: any,\n  text: string\n}\n\nfunction IconHeader({ icon, text }: IconHeaderProps) {\n  return (\n    <>\n      <div style={{ padding: '1%', display: 'flex', alignItems: 'center' }}>\n        <div style={{ marginRight: '2%', fontSize: 48 }}>\n          {icon}\n        </div>\n        <div>\n          <Header primary={text} />\n        </div>\n      </div>\n    </>\n  );\n}\n\nexport default IconHeader;\n","import React, { useState, useEffect } from 'react';\nimport { LinkBase, Box } from '@aragon/ui';\n\nimport BigNumber from 'bignumber.js';\nimport { getTokenBalance } from '../../utils/infura';\nimport { toTokenUnitsBN } from '../../utils/number';\n\nimport TradePageHeader from './Header';\nimport {EXED, UNI, USDC} from \"../../constants/tokens\";\nimport IconHeader from \"../common/IconHeader\";\n\n\nfunction UniswapPool({ user }: {user: string}) {\n  const [pairBalanceESD, setPairBalanceESD] = useState(new BigNumber(0));\n  const [pairBalanceUSDC, setPairBalanceUSDC] = useState(new BigNumber(0));\n\n  useEffect(() => {\n    let isCancelled = false;\n\n    async function updateUserInfo() {\n      const [\n        pairBalanceESDStr, pairBalanceUSDCStr,\n      ] = await Promise.all([\n        getTokenBalance(EXED.addr, UNI.addr),\n        getTokenBalance(USDC.addr, UNI.addr),\n      ]);\n\n      if (!isCancelled) {\n        setPairBalanceESD(toTokenUnitsBN(pairBalanceESDStr, EXED.decimals));\n        setPairBalanceUSDC(toTokenUnitsBN(pairBalanceUSDCStr, USDC.decimals));\n      }\n    }\n\n    updateUserInfo();\n    const id = setInterval(updateUserInfo, 15000);\n\n    // eslint-disable-next-line consistent-return\n    return () => {\n      isCancelled = true;\n      clearInterval(id);\n    };\n  }, [user]);\n\n  return (\n    <>\n      <IconHeader icon={<i className=\"fas fa-exchange-alt\"/>} text=\"Trade\"/>\n\n      <TradePageHeader\n        pairBalanceESD={pairBalanceESD}\n        pairBalanceUSDC={pairBalanceUSDC}\n        uniswapPair={UNI.addr}\n      />\n\n      <div style={{ padding: '1%', display: 'flex', flexWrap: 'wrap', alignItems: 'center' }}>\n        <div style={{ flexBasis: '30%', marginRight: '3%', marginLeft: '2%'  }}>\n          <MainButton\n            title=\"Info\"\n            description=\"View EXED-USDC pool stats.\"\n            icon={<i className=\"fas fa-chart-area\"/>}\n            href={\"https://info.uniswap.org/pair/0xbAa3a4Eb65D46BFC94d21dd30228Ad7A94d708dd\"}\n          />\n        </div>\n\n        <div style={{ flexBasis: '30%' }}>\n          <MainButton\n            title=\"Trade\"\n            description=\"Trade Exedum tokens.\"\n            icon={<i className=\"fas fa-exchange-alt\"/>}\n            href={\"https://app.uniswap.org/#/swap?inputCurrency=0xa0b86991c6218b36c1d19d4a2e9eb0ce3606eb48&outputCurrency=0x9baf5147505b980b2674aab556a51e03b3082efe\"}\n          />\n        </div>\n\n        <div style={{ flexBasis: '30%', marginLeft: '3%', marginRight: '2%' }}>\n          <MainButton\n            title=\"Supply\"\n            description=\"Supply and redeem liquidity.\"\n            icon={<i className=\"fas fa-water\"/>}\n            href={\"https://app.uniswap.org/#/add/0x9baf5147505b980b2674aab556a51e03b3082efe/0xa0b86991c6218b36c1d19d4a2e9eb0ce3606eb48\"}\n          />\n        </div>\n      </div>\n    </>\n  );\n}\n\ntype MainButtonProps = {\n  title: string,\n  description: string,\n  icon: any,\n  href:string\n}\n\nfunction MainButton({\n  title, description, icon, href,\n}:MainButtonProps) {\n  return (\n    <LinkBase href={href} style={{ width: '100%' }}>\n      <div className='card'>\n        <div className='card-body'>\n          <div style={{ padding: 10, fontSize: 18 }}>\n            {title}\n          </div>\n          <span style={{ fontSize: 48 }}>\n            {icon}\n          </span>\n          {/*<img alt=\"icon\" style={{ padding: 10, height: 64 }} src={iconUrl} />*/}\n          <div style={{ paddingTop: 5, opacity: 0.5 }}>\n            {' '}\n            {description}\n            {' '}\n          </div>\n        </div>\n      </div>\n    </LinkBase>\n  );\n}\n\nexport default UniswapPool;\n","import React from 'react';\n\ntype TextBlockProps = {\n  label: string,\n  text: string\n}\n\nfunction TextBlock({ label, text }: TextBlockProps) {\n  return (\n    <>\n      <div style={{ fontSize: 16, padding: 3 }}>{label}</div>\n      <div style={{ fontSize: 24, padding: 3 }}>{text}</div>\n    </>\n  );\n}\n\nexport default TextBlock;\n","import React from 'react';\nimport BigNumber from 'bignumber.js';\n\nimport { BalanceBlock } from '../common/index';\nimport TextBlock from \"../common/TextBlock\";\nimport {ownership} from \"../../utils/number\";\n\ntype AccountPageHeaderProps = {\n  accountESDBalance: BigNumber,\n  accountESDSBalance: BigNumber,\n  totalESDSSupply: BigNumber,\n  accountStagedBalance: BigNumber,\n  accountBondedBalance: BigNumber,\n  accountStatus: number,\n  unlocked: number,\n};\n\nconst STATUS_MAP = [\"Unlocked\", \"Locked\", \"Locked\"];\n\nfunction status(accountStatus, unlocked) {\n  return STATUS_MAP[accountStatus] + (accountStatus === 0 ? \"\" : \" until \" + unlocked)\n}\n\nconst AccountPageHeader = ({\n  accountESDBalance, accountESDSBalance, totalESDSSupply, accountStagedBalance, accountBondedBalance, accountStatus, unlocked\n}: AccountPageHeaderProps) => (\n  <div style={{ padding: '2%', display: 'flex', flexWrap: 'wrap', alignItems: 'center' }}>\n    <div style={{ flexBasis: '20%' }}>\n      <BalanceBlock asset=\"Balance\" balance={accountESDBalance} suffix={\" EXED\"}/>\n    </div>\n    <div style={{ flexBasis: '20%' }}>\n      <BalanceBlock asset=\"Staged\" balance={accountStagedBalance}  suffix={\" EXED\"}/>\n    </div>\n    <div style={{ flexBasis: '20%' }}>\n      <BalanceBlock asset=\"Bonded\" balance={accountBondedBalance} suffix={\" EXED\"} />\n    </div>\n    <div style={{ flexBasis: '20%' }}>\n      <BalanceBlock asset=\"DAO Ownership\" balance={ownership(accountESDSBalance, totalESDSSupply)}  suffix={\"%\"}/>\n    </div>\n    <div style={{ flexBasis: '20%' }}>\n      <TextBlock label=\"Status\" text={status(accountStatus, unlocked)}/>\n    </div>\n  </div>\n);\n\n\nexport default AccountPageHeader;\n","import React from 'react';\n\nimport BigNumber from 'bignumber.js';\nimport {\n  TextInput,\n} from '@aragon/ui';\n\ntype BigNumberInputProps = {\n  value: BigNumber,\n  setter: (value: BigNumber) => void\n  adornment?: any,\n  disabled?: boolean\n}\n\nfunction BigNumberInput({ value, setter, adornment, disabled=false }: BigNumberInputProps) {\n  return (\n    <>\n      <input\n        type=\"number\"\n        className=\"custom-input\"\n        value={value.isNegative() ? '' : value.toFixed()}\n        onChange={(event) => {\n          if (event.target.value) {\n            setter(new BigNumber(event.target.value));\n          } else {\n            setter(new BigNumber(-1));\n          }\n        }}\n        onBlur={() => {\n          if (value.isNegative()) {\n            setter(new BigNumber(0))\n          }\n        }}\n        disabled={disabled}\n      />\n    </>\n  );\n}\n\nexport default BigNumberInput;\n","import React, { useState } from 'react';\nimport {\n  Box, Button, IconCirclePlus, IconCircleMinus, IconLock\n} from '@aragon/ui';\nimport BigNumber from 'bignumber.js';\nimport {\n  BalanceBlock, MaxButton,\n} from '../common/index';\nimport {approve, deposit, withdraw} from '../../utils/web3';\nimport {isPos, toBaseUnitBN} from '../../utils/number';\nimport {EXED, EXEDS} from \"../../constants/tokens\";\nimport {MAX_UINT256} from \"../../constants/values\";\nimport BigNumberInput from \"../common/BigNumberInput\";\n\ntype WithdrawDepositProps = {\n  user: string\n  balance: BigNumber,\n  allowance: BigNumber,\n  stagedBalance: BigNumber,\n  status: number\n};\n\nfunction WithdrawDeposit({\n  user, balance, allowance, stagedBalance, status\n}: WithdrawDepositProps) {\n  const [depositAmount, setDepositAmount] = useState(new BigNumber(0));\n  const [withdrawAmount, setWithdrawAmount] = useState(new BigNumber(0));\n\n  return (\n    <div className='card'>\n      <div className='card-body'>\n        {allowance.comparedTo(MAX_UINT256) === 0 ?\n          <div style={{display: 'flex', flexWrap: 'wrap'}}>\n            {/* total Issued */}\n            <div style={{flexBasis: '32%'}}>\n              <BalanceBlock asset=\"Staged\" balance={stagedBalance} suffix={\"EXED\"}/>\n            </div>\n            {/* Deposit EXED into DAO */}\n            <div style={{flexBasis: '33%', paddingTop: '2%'}}>\n              <div style={{display: 'flex'}}>\n                <div style={{width: '60%', minWidth: '6em'}}>\n                  <>\n                    <BigNumberInput\n                      adornment=\"EXED\"\n                      value={depositAmount}\n                      setter={setDepositAmount}\n                      disabled={status !== 0}\n                    />\n                    <MaxButton\n                      onClick={() => {\n                        setDepositAmount(balance);\n                      }}\n                    />\n                  </>\n                </div>\n                <div style={{width: '40%', minWidth: '6em'}}>\n                  <Button\n                  className=\"btn btn-primary\"\n                    wide\n                    icon={status === 0 ? <IconCirclePlus/> : <IconLock/>}\n                    label=\"Deposit\"\n                    onClick={() => {\n                      deposit(\n                        EXEDS.addr,\n                        toBaseUnitBN(depositAmount, EXED.decimals),\n                      );\n                    }}\n                    disabled={status === 1 || !isPos(depositAmount) || depositAmount.isGreaterThan(balance)}\n                  />\n                </div>\n              </div>\n            </div>\n            <div style={{flexBasis: '2%'}}/>\n            {/* Withdraw EXED from DAO */}\n            <div style={{flexBasis: '33%', paddingTop: '2%'}}>\n              <div style={{display: 'flex'}}>\n                <div style={{width: '60%', minWidth: '7em'}}>\n                  <>\n                    <BigNumberInput\n                      adornment=\"EXED\"\n                      value={withdrawAmount}\n                      setter={setWithdrawAmount}\n                      disabled={status !== 0}\n                    />\n                    <MaxButton\n                      onClick={() => {\n                        setWithdrawAmount(stagedBalance);\n                      }}\n                    />\n                  </>\n                </div>\n                <div style={{width: '40%', minWidth: '7em'}}>\n                  <Button\n                  className=\"btn btn-primary\"\n                    wide\n                    icon={status === 0 ? <IconCircleMinus/> : <IconLock/>}\n                    label=\"Withdraw\"\n                    onClick={() => {\n                      withdraw(\n                        EXEDS.addr,\n                        toBaseUnitBN(withdrawAmount, EXED.decimals),\n                      );\n                    }}\n                    disabled={status === 1 || !isPos(withdrawAmount) || withdrawAmount.isGreaterThan(stagedBalance)}\n                  />\n                </div>\n              </div>\n            </div>\n          </div>\n          :\n          <div style={{display: 'flex', flexWrap: 'wrap'}}>\n            {/* total Issued */}\n            <div style={{flexBasis: '32%'}}>\n              <BalanceBlock asset=\"Staged\" balance={stagedBalance} suffix={\"EXED\"}/>\n            </div>\n            <div style={{flexBasis: '35%'}}/>\n            {/* Approve DAO to spend EXED */}\n            <div style={{flexBasis: '33%', paddingTop: '2%'}}>\n              <Button\n              className=\"btn btn-primary\"\n                wide\n                icon={<IconCirclePlus />}\n                label=\"Approve\"\n                onClick={() => {\n                  approve(EXED.addr, EXEDS.addr);\n                }}\n                disabled={user === ''}\n              />\n            </div>\n          </div>\n        }\n      </div>\n    </div>\n  );\n}\n\nexport default WithdrawDeposit;\n","import React, { useState } from 'react';\nimport {\n  Box, Button, IconCirclePlus, IconCircleMinus, IconCaution\n} from '@aragon/ui';\nimport BigNumber from 'bignumber.js';\nimport {\n  BalanceBlock, MaxButton,\n} from '../common/index';\nimport { bond, unbondUnderlying } from '../../utils/web3';\nimport {isPos, toBaseUnitBN} from '../../utils/number';\nimport { EXED, EXEDS } from \"../../constants/tokens\";\nimport BigNumberInput from \"../common/BigNumberInput\";\nimport TextBlock from \"../common/TextBlock\";\n\ntype BondUnbondProps = {\n  staged: BigNumber,\n  bonded: BigNumber,\n  status: number,\n  lockup: number,\n};\n\nfunction BondUnbond({\n  staged, bonded, status, lockup\n}: BondUnbondProps) {\n  const [bondAmount, setBondAmount] = useState(new BigNumber(0));\n  const [unbondAmount, setUnbondAmount] = useState(new BigNumber(0));\n\n  return (\n    <div className='card'>\n      <div className='card-body'>\n        <div style={{display: 'flex', flexWrap: 'wrap'}}>\n          {/* Total bonded */}\n          <div style={{flexBasis: '16%'}}>\n            <BalanceBlock asset=\"Bonded\" balance={bonded} suffix={\"EXED\"}/>\n          </div>\n          {/* Total bonded */}\n          <div style={{flexBasis: '16%'}}>\n            <TextBlock label=\"Exit Lockup\" text={lockup === 0 ? \"\" : lockup === 1 ? \"1 epoch\" : `${lockup} epochs`}/>\n          </div>\n          {/* Bond EXED within DAO */}\n          <div style={{flexBasis: '33%', paddingTop: '2%'}}>\n            <div style={{display: 'flex'}}>\n              <div style={{width: '60%', minWidth: '6em'}}>\n                <>\n                  <BigNumberInput\n                    adornment=\"EXED\"\n                    value={bondAmount}\n                    setter={setBondAmount}\n                  />\n                  <MaxButton\n                    onClick={() => {\n                      setBondAmount(staged);\n                    }}\n                  />\n                </>\n              </div>\n              <div style={{width: '40%', minWidth: '7em'}}>\n                <Button\n                className=\"btn btn-primary\"\n                  wide\n                  icon={status === 0 ? <IconCirclePlus/> : <IconCaution/>}\n                  label=\"Bond\"\n                  onClick={() => {\n                    bond(\n                      EXEDS.addr,\n                      toBaseUnitBN(bondAmount, EXED.decimals),\n                    );\n                  }}\n                  disabled={status === 2 || !isPos(bondAmount) || bondAmount.isGreaterThan(staged)}\n                />\n              </div>\n            </div>\n          </div>\n          <div style={{width: '2%'}}/>\n          {/* Unbond EXED within DAO */}\n          <div style={{flexBasis: '33%', paddingTop: '2%'}}>\n            <div style={{display: 'flex'}}>\n              <div style={{width: '60%', minWidth: '6em'}}>\n                <>\n                  <BigNumberInput\n                    adornment=\"EXED\"\n                    value={unbondAmount}\n                    setter={setUnbondAmount}\n                  />\n                  <MaxButton\n                    onClick={() => {\n                      setUnbondAmount(bonded);\n                    }}\n                  />\n                </>\n              </div>\n              <div style={{width: '40%', minWidth: '7em'}}>\n                <Button\n                className=\"btn btn-primary\"\n                  wide\n                  icon={status === 0 ? <IconCircleMinus/> : <IconCaution/>}\n                  label=\"Unbond\"\n                  onClick={() => {\n                    unbondUnderlying(\n                      EXEDS.addr,\n                      toBaseUnitBN(unbondAmount, EXED.decimals),\n                    );\n                  }}\n                  disabled={status === 2 || !isPos(unbondAmount) || unbondAmount.isGreaterThan(bonded)}\n                />\n              </div>\n            </div>\n          </div>\n        </div>\n        <div style={{width: '100%', paddingTop: '2%', textAlign: 'center'}}>\n          <span style={{ opacity: 0.5 }}> Bonding events will restart the lockup timer </span>\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport default BondUnbond;\n","import React, { useState, useEffect } from 'react';\nimport { useParams } from 'react-router-dom';\n\nimport BigNumber from 'bignumber.js';\nimport {\n  getBalanceBonded,\n  getBalanceOfStaged, getFluidUntil, getLockedUntil,\n  getStatusOf, getTokenAllowance,\n  getTokenBalance, getTokenTotalSupply,\n} from '../../utils/infura';\nimport {EXED, EXEDS} from \"../../constants/tokens\";\nimport {DAO_EXIT_LOCKUP_EPOCHS} from \"../../constants/values\";\nimport { toTokenUnitsBN } from '../../utils/number';\n\nimport AccountPageHeader from \"./Header\";\nimport WithdrawDeposit from \"./WithdrawDeposit\";\nimport BondUnbond from \"./BondUnbond\";\nimport IconHeader from \"../common/IconHeader\";\nimport {getPoolAddress} from \"../../utils/pool\";\nimport {DollarPool2} from \"../../constants/contracts\";\n\nfunction Wallet({ user }: {user: string}) {\n  const { override } = useParams();\n  if (override) {\n    user = override;\n  }\n\n  const [userESDBalance, setUserESDBalance] = useState(new BigNumber(0));\n  const [userESDAllowance, setUserESDAllowance] = useState(new BigNumber(0));\n  const [userESDSBalance, setUserESDSBalance] = useState(new BigNumber(0));\n  const [totalESDSSupply, setTotalESDSSupply] = useState(new BigNumber(0));\n  const [userStagedBalance, setUserStagedBalance] = useState(new BigNumber(0));\n  const [userBondedBalance, setUserBondedBalance] = useState(new BigNumber(0));\n  const [userStatus, setUserStatus] = useState(0);\n  const [userStatusUnlocked, setUserStatusUnlocked] = useState(0);\n  const [lockup, setLockup] = useState(0);\n\n  //Update User balances\n  useEffect(() => {\n    if (user === '') {\n      setUserESDBalance(new BigNumber(0));\n      setUserESDAllowance(new BigNumber(0));\n      setUserESDSBalance(new BigNumber(0));\n      setTotalESDSSupply(new BigNumber(0));\n      setUserStagedBalance(new BigNumber(0));\n      setUserBondedBalance(new BigNumber(0));\n      setUserStatus(0);\n      return;\n    }\n    let isCancelled = false;\n\n    async function updateUserInfo() {\n      const [\n        esdBalance, esdAllowance, esdsBalance, esdsSupply, stagedBalance, bondedBalance, status, poolAddress,\n        fluidUntilStr, lockedUntilStr\n      ] = await Promise.all([\n        getTokenBalance(EXED.addr, user),\n        getTokenAllowance(EXED.addr, user, EXEDS.addr),\n        getTokenBalance(EXEDS.addr, user),\n        getTokenTotalSupply(EXEDS.addr),\n        getBalanceOfStaged(EXEDS.addr, user),\n        getBalanceBonded(EXEDS.addr, user),\n        getStatusOf(EXEDS.addr, user),\n        getPoolAddress(),\n\n        getFluidUntil(EXEDS.addr, user),\n        getLockedUntil(EXEDS.addr, user),\n      ]);\n\n      const userESDBalance = toTokenUnitsBN(esdBalance, EXED.decimals);\n      const userESDSBalance = toTokenUnitsBN(esdsBalance, EXEDS.decimals);\n      const totalESDSSupply = toTokenUnitsBN(esdsSupply, EXEDS.decimals);\n      const userStagedBalance = toTokenUnitsBN(stagedBalance, EXEDS.decimals);\n      const userBondedBalance = toTokenUnitsBN(bondedBalance, EXEDS.decimals);\n      const userStatus = parseInt(status, 10);\n      const fluidUntil = parseInt(fluidUntilStr, 10);\n      const lockedUntil = parseInt(lockedUntilStr, 10);\n\n      if (!isCancelled) {\n        setUserESDBalance(new BigNumber(userESDBalance));\n        setUserESDAllowance(new BigNumber(esdAllowance));\n        setUserESDSBalance(new BigNumber(userESDSBalance));\n        setTotalESDSSupply(new BigNumber(totalESDSSupply));\n        setUserStagedBalance(new BigNumber(userStagedBalance));\n        setUserBondedBalance(new BigNumber(userBondedBalance));\n        setUserStatus(userStatus);\n        setUserStatusUnlocked(Math.max(fluidUntil, lockedUntil))\n        setLockup(poolAddress === DollarPool2 ? DAO_EXIT_LOCKUP_EPOCHS : 1);\n      }\n    }\n    updateUserInfo();\n    const id = setInterval(updateUserInfo, 15000);\n\n    // eslint-disable-next-line consistent-return\n    return () => {\n      isCancelled = true;\n      clearInterval(id);\n    };\n  }, [user]);\n\n  return (\n    <>\n      <IconHeader icon={<i className=\"fas fa-dot-circle\"/>} text=\"DAO\"/>\n\n      <AccountPageHeader\n        accountESDBalance={userESDBalance}\n        accountESDSBalance={userESDSBalance}\n        totalESDSSupply={totalESDSSupply}\n        accountStagedBalance={userStagedBalance}\n        accountBondedBalance={userBondedBalance}\n        accountStatus={userStatus}\n        unlocked={userStatusUnlocked}\n      />\n\n      <WithdrawDeposit\n        user={user}\n        balance={userESDBalance}\n        allowance={userESDAllowance}\n        stagedBalance={userStagedBalance}\n        status={userStatus}\n      />\n\n      <BondUnbond\n        staged={userStagedBalance}\n        bonded={userBondedBalance}\n        status={userStatus}\n        lockup={lockup}\n      />\n    </>\n  );\n}\n\nexport default Wallet;\n","import React from 'react';\n\nimport BigNumber from 'bignumber.js';\n\ntype NumberBlockProps = {\n  title: string,\n  num: BigNumber | string | number\n}\n\nfunction NumberBlock({ title, num }: NumberBlockProps) {\n  const numNum = new BigNumber(num).toNumber();\n\n  return (\n    <>\n      <div style={{ fontSize: 14, padding: 3 }}>{title}</div>\n      <div style={{ fontSize: 24, padding: 3 }}>{numNum}</div>\n\n    </>\n  );\n}\n\nexport default NumberBlock;\n","import React from 'react';\nimport {\n  Box, Button, IconCirclePlus,\n} from '@aragon/ui';\nimport {advance} from '../../utils/web3';\nimport NumberBlock from \"../common/NumberBlock\";\nimport {EXEDS} from \"../../constants/tokens\";\n\ntype AdvanceEpochProps = {\n  user: string,\n  epoch: number,\n  epochTime: number,\n}\n\nfunction AdvanceEpoch({\n  user,\n  epoch,\n  epochTime,\n}: AdvanceEpochProps) {\n  return (\n    <Box heading=\"Advance Epoch\">\n      <div style={{ display: 'flex' }}>\n        {/* Epoch Time */}\n        <div style={{ width: '30%' }}>\n          <NumberBlock title=\"Epoch (from current time)\" num={epochTime} />\n        </div>\n        {/* Advance Epoch */}\n        <div style={{ width: '40%' }}/>\n        <div style={{ width: '30%', paddingTop: '2%' }}>\n          <Button\n          className=\"btn btn-primary\"\n            wide\n            icon={<IconCirclePlus />}\n            label=\"Advance\"\n            onClick={() => {\n              advance(EXEDS.addr);\n            }}\n            disabled={user === '' || epoch >= epochTime}\n          />\n        </div>\n      </div>\n    </Box>\n  );\n}\n\n\nexport default AdvanceEpoch;\n","import React from 'react';\n\nimport NumberBlock from \"../common/NumberBlock\";\nimport TextBlock from \"../common/TextBlock\";\n\ntype AccountPageHeaderProps = {\n  epoch: number,\n  epochTime: number,\n};\n\nconst EpochPageHeader = ({\n  epoch, epochTime,\n}: AccountPageHeaderProps) => (\n  <div style={{ padding: '2%', display: 'flex', alignItems: 'center' }}>\n    <div style={{ width: '25%' }}>\n      <NumberBlock title=\"Current\" num={epoch} />\n    </div>\n    <div style={{ width: '25%' }}>\n      <NumberBlock title=\"Available\" num={epochTime} />\n    </div>\n    <div style={{ width: '25%' }}>\n      <TextBlock label=\"Period\" text={epoch < 106 ? \"24 hours\" : \"8 hours\"}/>\n    </div>\n  </div>\n);\n\n\nexport default EpochPageHeader;\n","import React, { useState, useEffect } from 'react';\nimport { Header } from '@aragon/ui';\n\nimport {getEpoch, getEpochTime,\n} from '../../utils/infura';\nimport {EXEDS} from \"../../constants/tokens\";\nimport AdvanceEpoch from './AdvanceEpoch';\nimport EpochPageHeader from \"./Header\";\nimport IconHeader from \"../common/IconHeader\";\n\nfunction EpochDetail({ user }: {user: string}) {\n\n  const [epoch, setEpoch] = useState(0);\n  const [epochTime, setEpochTime] = useState(0);\n  useEffect(() => {\n    let isCancelled = false;\n\n    async function updateUserInfo() {\n      const [epochStr, epochTimeStr] = await Promise.all([\n        getEpoch(EXEDS.addr),\n        getEpochTime(EXEDS.addr),\n      ]);\n\n      if (!isCancelled) {\n        setEpoch(parseInt(epochStr, 10));\n        setEpochTime(parseInt(epochTimeStr, 10));\n      }\n    }\n    updateUserInfo();\n    const id = setInterval(updateUserInfo, 15000);\n\n    // eslint-disable-next-line consistent-return\n    return () => {\n      isCancelled = true;\n      clearInterval(id);\n    };\n  }, [user]);\n\n  return (\n    <>\n      <IconHeader icon={<i className=\"fas fa-stream\"/>} text=\"Epoch\"/>\n\n      <EpochPageHeader\n        epoch={epoch}\n        epochTime={epochTime}\n      />\n\n      <Header primary=\"Advance Epoch\" />\n\n      <AdvanceEpoch\n        user={user}\n        epoch={epoch}\n        epochTime={epochTime}\n      />\n    </>\n  );\n}\n\nexport default EpochDetail;\n","import React from 'react';\n\nimport BigNumber from \"bignumber.js\";\nimport { BalanceBlock } from \"../common\";\nimport {ownership} from \"../../utils/number\";\n\ntype CouponMarketHeaderProps = {\n  debt: BigNumber,\n  supply: BigNumber,\n  coupons: BigNumber,\n  premium: BigNumber,\n  redeemable: BigNumber,\n};\n\nconst CouponMarketHeader = ({\n  debt, supply, coupons, premium, redeemable\n}: CouponMarketHeaderProps) => (\n  <div style={{ padding: '2%', display: 'flex', flexWrap: 'wrap', alignItems: 'center' }}>\n    <div style={{ flexBasis: '20%' }}>\n      <BalanceBlock asset=\"Debt Ratio\" balance={ownership(debt, supply)} suffix={\"%\"}/>\n    </div>\n    <div style={{ flexBasis: '20%' }}>\n      <BalanceBlock asset=\"Total Debt\" balance={debt} suffix={\"EXED\"}/>\n    </div>\n    <div style={{ flexBasis: '20%' }}>\n      <BalanceBlock asset=\"Coupons\" balance={coupons} />\n    </div>\n    <div style={{ flexBasis: '20%' }}>\n      <BalanceBlock asset=\"Premium\" balance={premium.multipliedBy(100)} suffix={\"%\"}/>\n    </div>\n    <div style={{ flexBasis: '20%' }}>\n      <BalanceBlock asset=\"Redeemable\" balance={redeemable}/>\n    </div>\n  </div>\n);\n\n\nexport default CouponMarketHeader;\n","import React, { useState } from 'react';\nimport {\n  Box, Button, IconCirclePlus, IconCircleMinus\n} from '@aragon/ui';\nimport BigNumber from 'bignumber.js';\nimport {\n  BalanceBlock, MaxButton, PriceSection,\n} from '../common/index';\nimport {approve, purchaseCoupons} from '../../utils/web3';\n\nimport {isPos, toBaseUnitBN, toTokenUnitsBN} from '../../utils/number';\nimport {EXED, EXEDS} from \"../../constants/tokens\";\nimport {MAX_UINT256} from \"../../constants/values\";\nimport {getCouponPremium} from \"../../utils/infura\";\nimport BigNumberInput from \"../common/BigNumberInput\";\n\ntype PurchaseCouponsProps = {\n  user: string,\n  allowance: BigNumber,\n  balance: BigNumber,\n  debt: BigNumber,\n};\n\nfunction PurchaseCoupons({\n  user, balance, allowance, debt,\n}: PurchaseCouponsProps) {\n  const [purchaseAmount, setPurchaseAmount] = useState(new BigNumber(0));\n  const [premium, setPremium] = useState(new BigNumber(0));\n\n  const updatePremium = async (purchaseAmount) => {\n    if (purchaseAmount.lte(new BigNumber(0))) {\n      setPremium(new BigNumber(0));\n      return;\n    }\n    const purchaseAmountBase = toBaseUnitBN(purchaseAmount, EXED.decimals);\n    const premium = await getCouponPremium(EXEDS.addr, purchaseAmountBase)\n    const premiumFormatted = toTokenUnitsBN(premium, EXED.decimals);\n    setPremium(premiumFormatted);\n  };\n\n  return (\n    <div className='card'>\n      <div className='card-body'>\n        {allowance.comparedTo(MAX_UINT256) === 0 ?\n          <div style={{display: 'flex', flexWrap: 'wrap'}}>\n            {/* User balance */}\n            <div style={{flexBasis: '30%'}}>\n              <BalanceBlock asset={`Balance`} balance={balance} suffix={\" EXED\"}/>\n            </div>\n            <div style={{flexBasis: '38%'}}/>\n            {/* Purchase coupons */}\n            <div style={{flexBasis: '32%', paddingTop: '2%'}}>\n              <div style={{display: 'flex'}}>\n                <div style={{width: '60%', minWidth: '6em'}}>\n                  <>\n                    <BigNumberInput\n                      adornment=\"EXED\"\n                      value={purchaseAmount}\n                      setter={(value) => {\n                        setPurchaseAmount(value);\n                        isPos(value) ? updatePremium(value) : updatePremium(new BigNumber(0));\n                      }}\n                    />\n                    <MaxButton\n                      onClick={() => {\n                        const maxPurchaseAmount = debt.comparedTo(balance) > 0 ? balance : debt\n                        setPurchaseAmount(maxPurchaseAmount);\n                        updatePremium(maxPurchaseAmount);\n                      }}\n                    />\n                  </>\n                </div>\n                <div style={{width: '40%', minWidth: '6em'}}>\n                  <Button\n                  className=\"btn btn-primary\"\n                    wide\n                    icon={<IconCircleMinus/>}\n                    label=\"Burn\"\n                    onClick={() => {\n                      purchaseCoupons(\n                        EXEDS.addr,\n                        toBaseUnitBN(purchaseAmount, EXED.decimals),\n                      );\n                    }}\n                    disabled={user === '' || debt.isZero() || balance.isZero() || !isPos(purchaseAmount)}\n                  />\n                </div>\n              </div>\n              <PriceSection label=\"Coupons \" amt={purchaseAmount.plus(premium)}/>\n            </div>\n          </div>\n          :\n          <div style={{display: 'flex', flexWrap: 'wrap'}}>\n            {/* User balance */}\n            <div style={{flexBasis: '30%'}}>\n              <BalanceBlock asset={`EXED Balance`} balance={balance}/>\n            </div>\n            <div style={{flexBasis: '40%'}}/>\n            {/* Approve DAO to spend EXED */}\n            <div style={{flexBasis: '30%', paddingTop: '2%'}}>\n              <Button\n              className=\"btn btn-primary\"\n                wide\n                icon={<IconCirclePlus/>}\n                label=\"Approve\"\n                onClick={() => {\n                  approve(EXED.addr, EXEDS.addr);\n                }}\n                disabled={user === ''}\n              />\n            </div>\n          </div>\n        }\n      </div>\n    </div>\n  );\n}\n\nexport default PurchaseCoupons;\n","import React, {useEffect, useState} from 'react';\nimport {\n  DataView, Button, IconCirclePlus, IconRefresh, IconCheck, IconLock\n} from '@aragon/ui';\n\nimport {\n  getBatchBalanceOfCoupons, getBatchBalanceOfCouponsUnderlying,\n  getBatchCouponsExpiration, getCouponEpochs\n} from '../../utils/infura';\nimport {EXED, EXEDS} from \"../../constants/tokens\";\nimport {formatBN, toBaseUnitBN, toTokenUnitsBN} from \"../../utils/number\";\nimport BigNumber from \"bignumber.js\";\nimport { redeemCoupons, migrateCoupons } from \"../../utils/web3\";\n\ntype PurchaseHistoryProps = {\n  user: string,\n  hideRedeemed: boolean,\n  totalRedeemable: BigNumber\n};\n\nfunction PurchaseHistory({\n  user, hideRedeemed, totalRedeemable\n}: PurchaseHistoryProps) {\n  const [epochs, setEpochs] = useState([]);\n  const [page, setPage] = useState(0)\n  const [initialized, setInitialized] = useState(false)\n\n  //Update User balances\n  useEffect(() => {\n    if (user === '') return;\n    let isCancelled = false;\n\n    async function updateUserInfo() {\n      const epochsFromEvents = await getCouponEpochs(EXEDS.addr, user);\n      const epochNumbers = epochsFromEvents.map(e => parseInt(e.epoch));\n      const balanceOfCouponsPremium = await getBatchBalanceOfCoupons(EXEDS.addr, user, epochNumbers);\n      const balanceOfCouponsPrincipal = await getBatchBalanceOfCouponsUnderlying(EXEDS.addr, user, epochNumbers);\n      const couponsExpirations = await getBatchCouponsExpiration(EXEDS.addr, epochNumbers);\n\n      const couponEpochs = epochsFromEvents.map((epoch, i) => {\n        epoch.principal = new BigNumber(balanceOfCouponsPrincipal[i]);\n        epoch.premium = new BigNumber(balanceOfCouponsPremium[i]);\n        epoch.expiration = couponsExpirations[i];\n        return epoch;\n      });\n\n      if (!isCancelled) {\n        // @ts-ignore\n        setEpochs(couponEpochs);\n        setInitialized(true);\n      }\n    }\n    updateUserInfo();\n    const id = setInterval(updateUserInfo, 15000);\n\n    // eslint-disable-next-line consistent-return\n    return () => {\n      isCancelled = true;\n      clearInterval(id);\n    };\n  }, [user, totalRedeemable]);\n\n  return (\n    <DataView\n      emptyState={{\n        default: {\n          displayLoader: false,\n          title: 'No data available.',\n          subtitle: null,\n          illustration: null,\n          clearLabel: null,\n        },\n        loading: {\n          displayLoader: false,\n          title: '',\n          subtitle: null,\n          illustration: null,\n          clearLabel: null,\n        },\n        'empty-filters': {\n          displayLoader: false,\n          title: 'No results found.',\n          subtitle: 'We cant find any item matching your filter selection.',\n          illustration: <img src=\"empty-state-illustration-red.png\" alt=\"\" />,\n          clearLabel: 'Clear filters',\n        },\n        'empty-search': {\n          displayLoader: false,\n          title: 'No results found.',\n          subtitle: 'We cant find any item matching your search query.',\n          illustration: <img src=\"empty-state-illustration-red.png\" alt=\"\" />,\n          clearLabel: 'Clear filters',\n        },\n      }}\n      fields={['Epoch', 'Purchased', 'Principal', 'Premium', 'Expires', '']}\n      status={ initialized ? 'default' : 'loading' }\n      // @ts-ignore\n      entries={hideRedeemed ? epochs.filter((epoch) => !epoch.principal.isZero() || !epoch.premium.isZero()) : epochs}\n      entriesPerPage={10}\n      page={page}\n      onPageChange={setPage}\n      renderEntry={(epoch) => [\n        epoch.epoch.toString(),\n        formatBN(toTokenUnitsBN(epoch.coupons, EXED.decimals), 2),\n        formatBN(toTokenUnitsBN(epoch.principal, EXED.decimals), 2),\n        formatBN(toTokenUnitsBN(epoch.premium, EXED.decimals), 2),\n        epoch.expiration.toString(),\n        <CouponAction coupon={epoch} totalRedeemable={totalRedeemable} />\n      ]}\n    />\n  );\n}\n\ntype CouponActionProps = {\n  coupon: any,\n  totalRedeemable: BigNumber\n}\n\nfunction CouponAction({coupon, totalRedeemable}:CouponActionProps) {\n\n  return (\n    <>\n    {/* pre-EIP-16 style coupons */\n     coupon.principal.isZero() && !coupon.premium.isZero() ?\n      <Button\n      className=\"btn btn-primary\"\n        icon={<IconRefresh />}\n        label=\"Migrate\"\n        onClick={() => migrateCoupons(EXEDS.addr, coupon.epoch)}\n      />\n      /* already redeemed coupons */\n      : coupon.principal.isZero() ?\n      <Button\n      className=\"btn btn-primary\"\n        icon={<IconCheck />}\n        label=\"Redeemed\"\n        disabled={true}\n      />\n      /* redeemable coupons */\n      :\n      <Button\n      className=\"btn btn-primary\"\n        icon={totalRedeemable.isZero() ? <IconLock /> : <IconCirclePlus />}\n        label=\"Redeem\"\n        onClick={() => redeemCoupons(\n          EXEDS.addr,\n          coupon.epoch,\n          coupon.principal.isGreaterThan(toBaseUnitBN(totalRedeemable, EXED.decimals))\n            ? toBaseUnitBN(totalRedeemable, EXED.decimals)\n            : coupon.principal\n        )}\n        disabled={totalRedeemable.isZero()}\n      />\n    }\n    </>\n  );\n}\n\nexport default PurchaseHistory;\n","import React, { useState } from 'react';\nimport { Modal, Button, useTheme } from '@aragon/ui';\nimport { getPreference, storePreference } from \"../../utils/storage\";\nimport { COUPON_EXPIRATION } from \"../../constants/values\";\n\nfunction ModalWarning() {\n  const storedShowWarning = getPreference('showCouponWarning', '1');\n  const [showWarning, setShowWarning] = useState(storedShowWarning === '1');\n  const theme = useTheme();\n\n  return (\n    <Modal visible={showWarning} closeButton={false}>\n      <div style={{ width: '100%' }}>\n        <div style={{ fontSize: 24, padding: 3, color: theme.warning }}>\n          Warning\n        </div>\n\n        <div style={{\n          marginLeft: '3%',\n          fontSize: 16,\n          padding: 5\n        }}>\n          <div>\n            Coupons will only become redeemable during the next supply\n            expansion. Each expansionary epoch, a tranche of rewards are\n            reserved for coupon redemptions by the DAO. At that time, the\n            redemption process is first come, first served. If coupons are not\n            redeemed within {COUPON_EXPIRATION} epochs of purchase, they can be\n            redeemed for the original purchase price and the premium is forfeited.\n          </div>\n\n          <div style={{\n            padding: 10,\n            textAlign: 'center',\n            color: theme.warningSurfaceContent\n          }}>\n            Coupon premiums and redemption timing are not guaranteed.\n          </div>\n        </div>\n\n        <div style={{ textAlign: 'right' }}>\n          <Button\n          className=\"btn btn-primary\"\n            label={'I understand'}\n            onClick={() => {\n              storePreference('showCouponWarning', '0');\n              setShowWarning(false);\n            }}\n          />\n        </div>\n      </div>\n    </Modal>\n  );\n}\n\nexport default ModalWarning;\n","import React, { useState, useEffect } from 'react';\nimport { Header } from '@aragon/ui';\nimport { useParams } from 'react-router-dom';\n\nimport {\n  getCouponPremium,\n  getTokenAllowance,\n  getTokenBalance,\n  getTokenTotalSupply, getTotalCoupons, getTotalCouponsUnderlying,\n  getTotalDebt, getTotalRedeemable,\n} from '../../utils/infura';\nimport {EXED, EXEDS} from \"../../constants/tokens\";\nimport CouponMarketHeader from \"./Header\";\nimport {toTokenUnitsBN} from \"../../utils/number\";\nimport BigNumber from \"bignumber.js\";\nimport PurchaseCoupons from \"./PurchaseCoupons\";\nimport PurchaseHistory from \"./PurchaseHistory\";\nimport ModalWarning from \"./ModalWarning\";\nimport IconHeader from \"../common/IconHeader\";\nimport {getPreference, storePreference} from \"../../utils/storage\";\nimport {CheckBox} from \"../common\";\n\nconst ONE_COUPON = new BigNumber(10).pow(18);\n\nfunction CouponMarket({ user }: {user: string}) {\n  const { override } = useParams();\n  if (override) {\n    user = override;\n  }\n\n  const storedHideRedeemed = getPreference('hideRedeemedCoupons', '0');\n\n  const [balance, setBalance] = useState(new BigNumber(0));\n  const [allowance, setAllowance] = useState(new BigNumber(0));\n  const [supply, setSupply] = useState(new BigNumber(0));\n  const [coupons, setCoupons] = useState(new BigNumber(0));\n  const [redeemable, setRedeemable] = useState(new BigNumber(0));\n  const [couponPremium, setCouponPremium] = useState(new BigNumber(0));\n  const [debt, setDebt] = useState(new BigNumber(0));\n  const [hideRedeemed, setHideRedeemed] = useState(storedHideRedeemed === '1');\n\n  useEffect(() => {\n    if (user === '') {\n      setBalance(new BigNumber(0));\n      setAllowance(new BigNumber(0));\n      return;\n    }\n    let isCancelled = false;\n\n    async function updateUserInfo() {\n      const [balanceStr, allowanceStr] = await Promise.all([\n        getTokenBalance(EXED.addr, user),\n        getTokenAllowance(EXED.addr, user, EXEDS.addr),\n      ]);\n\n      const userBalance = toTokenUnitsBN(balanceStr, EXED.decimals);\n\n      if (!isCancelled) {\n        setBalance(new BigNumber(userBalance));\n        setAllowance(new BigNumber(allowanceStr));\n        (new BigNumber(allowanceStr));\n      }\n    }\n    updateUserInfo();\n    const id = setInterval(updateUserInfo, 15000);\n\n    // eslint-disable-next-line consistent-return\n    return () => {\n      isCancelled = true;\n      clearInterval(id);\n    };\n  }, [user]);\n\n  useEffect(() => {\n    let isCancelled = false;\n\n    async function updateUserInfo() {\n      const [supplyStr, debtStr, couponsPremiumStr, couponsPrincipalStr, redeemableStr] = await Promise.all([\n        getTokenTotalSupply(EXED.addr),\n        getTotalDebt(EXEDS.addr),\n        getTotalCoupons(EXEDS.addr),\n        getTotalCouponsUnderlying(EXEDS.addr),\n        getTotalRedeemable(EXEDS.addr),\n      ]);\n\n      const totalSupply = toTokenUnitsBN(supplyStr, EXED.decimals);\n      const totalDebt = toTokenUnitsBN(debtStr, EXED.decimals);\n      const totalCoupons = toTokenUnitsBN(couponsPrincipalStr, EXED.decimals).plus(\n        toTokenUnitsBN(couponsPremiumStr, EXED.decimals)\n      );\n      const totalRedeemable = toTokenUnitsBN(redeemableStr, EXED.decimals);\n\n      if (!isCancelled) {\n        setSupply(new BigNumber(totalSupply));\n        setDebt(new BigNumber(totalDebt));\n        setCoupons(new BigNumber(totalCoupons));\n        setRedeemable(new BigNumber(totalRedeemable));\n\n        if (totalDebt.isGreaterThan(new BigNumber(1))) {\n          const couponPremiumStr = await getCouponPremium(EXEDS.addr, ONE_COUPON)\n          setCouponPremium(toTokenUnitsBN(couponPremiumStr, EXED.decimals));\n        } else {\n          setCouponPremium(new BigNumber(0));\n        }\n      }\n    }\n    updateUserInfo();\n    const id = setInterval(updateUserInfo, 15000);\n\n    // eslint-disable-next-line consistent-return\n    return () => {\n      isCancelled = true;\n      clearInterval(id);\n    };\n  }, [user]);\n\n  return (\n    <>\n      <ModalWarning/>\n\n      <IconHeader icon={<i className=\"fas fa-ticket-alt\"/>} text=\"Coupon Market\"/>\n\n      <CouponMarketHeader\n        debt={debt}\n        supply={supply}\n        coupons={coupons}\n        premium={couponPremium}\n        redeemable={redeemable}\n      />\n\n      <Header primary=\"Purchase\" />\n\n      <PurchaseCoupons\n        user={user}\n        allowance={allowance}\n        balance={balance}\n        debt={debt}\n      />\n\n      <div style={{ display: 'flex' }}>\n        <Header primary=\"Coupons\" />\n        <div style={{ marginLeft: 'auto', alignSelf: 'flex-end' }}>\n          <CheckBox\n            text=\"Hide Redeemed\"\n            onCheck={(checked) => {\n              storePreference('hideRedeemedCoupons', checked ? '1' : '0');\n              setHideRedeemed(checked);\n            }}\n            checked={hideRedeemed}\n          />\n        </div>\n      </div>\n\n      <PurchaseHistory\n        user={user}\n        hideRedeemed={hideRedeemed}\n        totalRedeemable={redeemable}\n      />\n    </>\n  );\n}\n\nexport default CouponMarket;\n","import React from 'react';\n\nimport BigNumber from \"bignumber.js\";\nimport {AddressBlock, BalanceBlock} from \"../common\";\nimport TextBlock from \"../common/TextBlock\";\nimport {ownership} from \"../../utils/number\";\nimport {GOVERNANCE_PROPOSAL_THRESHOLD} from \"../../constants/values\";\n\ntype GovernanceHeaderProps = {\n  stake: BigNumber,\n  totalStake: BigNumber,\n  accountStatus: number,\n  implementation: string\n};\n\nconst STATUS_MAP = [\"Frozen\", \"Fluid\", \"Locked\"];\n\nconst GovernanceHeader = ({\n  stake, totalStake, accountStatus, implementation\n}: GovernanceHeaderProps) => (\n  <div style={{ padding: '2%', display: 'flex', flexWrap: 'wrap', alignItems: 'center' }}>\n    <div style={{ flexBasis: '25%' }}>\n      <BalanceBlock asset=\"DAO Ownership\" balance={ownership(stake, totalStake)} suffix=\"%\" />\n    </div>\n    <div style={{ flexBasis: '25%' }}>\n      <BalanceBlock asset=\"Proposal Threshold\" balance={GOVERNANCE_PROPOSAL_THRESHOLD.multipliedBy(100)} suffix=\"%\" />\n    </div>\n    <div style={{ flexBasis: '25%' }}>\n      <TextBlock label=\"Status\" text={STATUS_MAP[accountStatus]}/>\n    </div>\n    <div style={{ flexBasis: '25%' }}>\n      <AddressBlock label=\"Implementation\" address={implementation} />\n    </div>\n  </div>\n);\n\n\nexport default GovernanceHeader;\n","import {GOVERNANCE_PROPOSAL_THRESHOLD, GOVERNANCE_QUORUM} from \"../constants/values\";\nimport BigNumber from \"bignumber.js\";\n\nexport function proposalStatus(epoch, start, period, initialized, approve, reject, total): string {\n  if (start === 0) {\n    return \"N/A\";\n  }\n  if (epoch < start) {\n    return \"Unknown\";\n  }\n  if (epoch < (start + period)) {\n    return \"Voting\"\n  }\n  if (initialized) {\n    return \"Committed\"\n  }\n\n  if (epoch < (start + period)) {\n    return \"Rejected\"; // Not ended\n  }\n  if (approve.plus(reject).dividedBy(total).comparedTo(GOVERNANCE_QUORUM) < 0) {\n    return \"Rejected\"; // Didn't meet quorum\n  }\n  return approve.comparedTo(reject) > 0 ? \"Approved\" : \"Rejected\";\n}\n\nexport function canPropose(stake: BigNumber, totalStake: BigNumber): boolean {\n  return stake.div(totalStake).comparedTo(GOVERNANCE_PROPOSAL_THRESHOLD) >= 0;\n}","import React, { useState } from \"react\";\nimport { Box, TextInput, Button, IconToken } from \"@aragon/ui\";\nimport BigNumber from \"bignumber.js\";\nimport { recordVote } from \"../../utils/web3\";\n\nimport { EXEDS } from \"../../constants/tokens\";\nimport { canPropose } from \"../../utils/gov\";\n\ntype ProposeCandidateProps = {\n  user: string;\n  stake: BigNumber;\n  totalStake: BigNumber;\n  accountStatus: number;\n};\n\nfunction plausibleCandidate(candidate: string): boolean {\n  return /^(0x)[0-9a-fA-F]{40}$/i.test(candidate);\n}\n\nfunction ProposeCandidate({\n  user,\n  stake,\n  totalStake,\n  accountStatus,\n}: ProposeCandidateProps) {\n  const [candidate, setCandidate] = useState(\"0x\");\n\n  return (\n    <div className=\"card\">\n      <div className=\"card-body\">\n        <div style={{ display: \"flex\", flexWrap: \"wrap\" }}>\n          {/* User balance */}\n          <div style={{ flexBasis: \"62%\", paddingTop: \"2%\" }}>\n            <>\n              <input\n                value={candidate}\n                onChange={(event) => {\n                  if (event.target.value) {\n                    setCandidate(event.target.value);\n                  } else {\n                    setCandidate(\"0x\");\n                  }\n                }}\n              />\n            </>\n          </div>\n          <div style={{ flexBasis: \"6%\" }} />\n          {/* Purchase coupons */}\n          <div style={{ flexBasis: \"32%\", paddingTop: \"2%\" }}>\n            <Button\n            className=\"btn btn-primary\"\n              wide\n              icon={<IconToken />}\n              label=\"Propose\"\n              onClick={() => {\n                recordVote(\n                  EXEDS.addr,\n                  candidate,\n                  1 // APPROVE\n                );\n              }}\n              disabled={\n                user === \"\" ||\n                !canPropose(stake, totalStake) ||\n                !plausibleCandidate(candidate) ||\n                accountStatus === 1\n              }\n            />\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport default ProposeCandidate;\n","import React, {useEffect, useState} from 'react';\nimport { useHistory } from 'react-router-dom';\nimport {\n  Button, IconRight, DataView\n} from '@aragon/ui';\n\nimport {\n  getAllProposals,\n  getApproveFor,\n  getEpoch,\n  getIsInitialized,\n  getRejectFor,\n  getTokenTotalSupply, getTotalBondedAt\n} from '../../utils/infura';\nimport {EXEDS} from \"../../constants/tokens\";\nimport {AddressBlock} from \"../common\";\nimport {proposalStatus} from \"../../utils/gov\";\nimport BigNumber from \"bignumber.js\";\n\ntype CandidateHistoryProps = {\n  user: string;\n};\n\ntype Proposal = {\n  index: number\n  candidate: string,\n  account: string,\n  start: number,\n  period: number,\n  status: string\n}\n\nasync function formatProposals(epoch: number, proposals: any[]): Promise<Proposal[]> {\n  const currentTotalStake = await getTokenTotalSupply(EXEDS.addr);\n  const initializeds = await Promise.all(proposals.map((p) => getIsInitialized(EXEDS.addr, p.candidate)));\n  const approves = await Promise.all(proposals.map((p) => getApproveFor(EXEDS.addr, p.candidate)));\n  const rejecteds = await Promise.all(proposals.map((p) => getRejectFor(EXEDS.addr, p.candidate)));\n  const supplyAts = await Promise.all(proposals.map(async (p) => {\n    const at = (p.start + p.period - 1);\n    if (epoch > at) {\n      return await getTotalBondedAt(EXEDS.addr, at);\n    }\n    return currentTotalStake;\n  }));\n\n  for (let i = 0; i < proposals.length; i++) {\n    proposals[i].index = (proposals.length - i);\n    proposals[i].start = parseInt(proposals[i].start);\n    proposals[i].period = parseInt(proposals[i].period);\n    proposals[i].status = proposalStatus(\n      epoch,\n      proposals[i].start,\n      proposals[i].period,\n      initializeds[i],\n      new BigNumber(approves[i]),\n      new BigNumber(rejecteds[i]),\n      new BigNumber(supplyAts[i])\n    );\n  }\n  return proposals\n}\n\nfunction CandidateHistory({user}: CandidateHistoryProps) {\n  const history = useHistory();\n  const [proposals, setProposals] = useState<Proposal[]>([]);\n  const [page, setPage] = useState(0)\n  const [initialized, setInitialized] = useState(false)\n\n  useEffect(() => {\n    let isCancelled = false;\n\n    async function updateUserInfo() {\n      const [epochStr, allProposals] = await Promise.all([\n        getEpoch(EXEDS.addr),\n        getAllProposals(EXEDS.addr),\n      ]);\n\n      if (!isCancelled) {\n        const formattedProposals = await formatProposals(parseInt(epochStr), allProposals);\n        setProposals(formattedProposals);\n        setInitialized(true);\n      }\n    }\n    updateUserInfo();\n    const id = setInterval(updateUserInfo, 15000);\n\n    // eslint-disable-next-line consistent-return\n    return () => {\n      isCancelled = true;\n      clearInterval(id);\n    };\n  }, [user]);\n\n  return (\n    <DataView\n      emptyState={{\n        default: {\n          displayLoader: false,\n          title: 'No data available.',\n          subtitle: null,\n          illustration: null,\n          clearLabel: null,\n        },\n        loading: {\n          displayLoader: false,\n          title: '',\n          subtitle: null,\n          illustration: null,\n          clearLabel: null,\n        },\n        'empty-filters': {\n          displayLoader: false,\n          title: 'No results found.',\n          subtitle: 'We cant find any item matching your filter selection.',\n          illustration: <img src=\"empty-state-illustration-red.png\" alt=\"\" />,\n          clearLabel: 'Clear filters',\n        },\n        'empty-search': {\n          displayLoader: false,\n          title: 'No results found.',\n          subtitle: 'We cant find any item matching your search query.',\n          illustration: <img src=\"empty-state-illustration-red.png\" alt=\"\" />,\n          clearLabel: 'Clear filters',\n        },\n      }}\n      fields={['Proposal', 'Candidate', 'Proposed', 'Complete', 'Proposer', 'Status', '']}\n      status={ initialized ? 'default' : 'loading' }\n      // @ts-ignore\n      entries={proposals}\n      entriesPerPage={10}\n      page={page}\n      onPageChange={setPage}\n      renderEntry={(proposal) => [\n        \"#\" + proposal.index,\n        <AddressBlock label=\"\" address={proposal.candidate} />,\n        proposal.start.toString(),\n        (proposal.start + proposal.period).toString(),\n        <AddressBlock label=\"\" address={proposal.account} />,\n        proposal.status,\n        <Button\n          className=\"btn btn-primary\"\n          wide\n          icon={<IconRight />}\n          label=\"Go To\"\n          onClick={() => {\n            history.push(`/governance/candidate/${proposal.candidate}`);\n          }}\n        />\n      ]}\n    />\n  );\n}\n\nexport default CandidateHistory;\n","import React, { useState, useEffect } from 'react';\nimport { Header } from '@aragon/ui';\n\nimport {\n  getImplementation,\n  getStatusOf,\n  getTokenBalance,\n  getTokenTotalSupply,\n} from '../../utils/infura';\nimport {EXEDS} from \"../../constants/tokens\";\nimport {toTokenUnitsBN} from \"../../utils/number\";\nimport BigNumber from \"bignumber.js\";\nimport GovernanceHeader from \"./Header\";\nimport ProposeCandidate from \"./ProposeCandidate\";\nimport CandidateHistory from \"./CandidateHistory\";\nimport IconHeader from \"../common/IconHeader\";\nimport {canPropose} from \"../../utils/gov\";\n\nfunction Governance({ user }: {user: string}) {\n\n  const [stake, setStake] = useState(new BigNumber(0));\n  const [totalStake, setTotalStake] = useState(new BigNumber(0));\n  const [userStatus, setUserStatus] = useState(0);\n  const [implementation, setImplementation] = useState(\"0x\");\n\n  useEffect(() => {\n    if (user === '') {\n      setStake(new BigNumber(0));\n      setUserStatus(0);\n      return;\n    }\n    let isCancelled = false;\n\n    async function updateUserInfo() {\n      const [statusStr, stakeStr] = await Promise.all([\n        getStatusOf(EXEDS.addr, user),\n        getTokenBalance(EXEDS.addr, user),\n      ]);\n\n      if (!isCancelled) {\n        setStake(toTokenUnitsBN(stakeStr, EXEDS.decimals));\n        setUserStatus(parseInt(statusStr, 10));\n      }\n    }\n    updateUserInfo();\n    const id = setInterval(updateUserInfo, 15000);\n\n    // eslint-disable-next-line consistent-return\n    return () => {\n      isCancelled = true;\n      clearInterval(id);\n    };\n  }, [user]);\n\n  useEffect(() => {\n    let isCancelled = false;\n\n    async function updateUserInfo() {\n      const [totalStakeStr, implementationStr] = await Promise.all([\n        getTokenTotalSupply(EXEDS.addr),\n        getImplementation(EXEDS.addr),\n      ]);\n\n      if (!isCancelled) {\n        setTotalStake(toTokenUnitsBN(totalStakeStr, EXEDS.decimals));\n        setImplementation(implementationStr)\n      }\n    }\n    updateUserInfo();\n    const id = setInterval(updateUserInfo, 15000);\n\n    // eslint-disable-next-line consistent-return\n    return () => {\n      isCancelled = true;\n      clearInterval(id);\n    };\n  }, [user]);\n\n  return (\n    <>\n      <IconHeader icon={<i className=\"fas fa-poll\"/>} text=\"Governance\"/>\n\n      <GovernanceHeader\n        stake={stake}\n        totalStake={totalStake}\n        accountStatus={userStatus}\n        implementation={implementation}\n      />\n\n      {\n        canPropose(stake, totalStake) ?\n          <>\n            <Header primary=\"Propose Candidate\"/>\n            <ProposeCandidate\n              user={user}\n              stake={stake}\n              totalStake={totalStake}\n              accountStatus={userStatus}\n            />\n          </>\n          :\n          ''\n      }\n\n      <Header primary=\"Candidate History\" />\n\n      <CandidateHistory user={user}/>\n    </>\n  );\n}\n\nexport default Governance;\n","import React from 'react';\nimport {\n  Box, Button, IconRotateLeft, IconCircleCheck, IconProhibited\n} from '@aragon/ui';\nimport BigNumber from 'bignumber.js';\nimport {\n  BalanceBlock,\n} from '../common/index';\nimport {recordVote} from '../../utils/web3';\n\nimport {EXEDS} from \"../../constants/tokens\";\nimport TextBlock from \"../common/TextBlock\";\n\ntype VoteProps = {\n  candidate: string,\n  stake: BigNumber,\n  vote: number,\n  status: number\n};\n\nconst VOTE_TYPE_MAP = [\"Undecided\", \"Approve\", \"Reject\"]\n\nfunction Vote({\n  candidate, stake, vote, status\n}: VoteProps) {\n  return (\n    <div className='card'>\n      <div className='card-body'>\n        <div style={{display: 'flex'}}>\n          {/* User stake */}\n          <div style={{width: '20%'}}>\n            <BalanceBlock asset=\"My Stake\" balance={stake} suffix={ \"EXEDS\"}/>\n          </div>\n          <div style={{width: '20%'}}>\n            <TextBlock label=\"My Vote\" text={VOTE_TYPE_MAP[vote]}/>\n          </div>\n          {/* Remove vote for candidate */}\n          <div style={{width: '18%', paddingTop: '2%'}}>\n            <Button\n            className=\"btn btn-primary\"\n              wide\n              icon={<IconRotateLeft/>}\n              label=\"Unvote\"\n              onClick={() => {\n                recordVote(\n                  EXEDS.addr,\n                  candidate,\n                  0 // UNDECIDED\n                );\n              }}\n              disabled={status === 1 || vote === 0 || stake.isZero()}\n            />\n          </div>\n          {/* Vote to approve candidate */}\n          <div style={{width: '3%'}} />\n          <div style={{width: '18%', paddingTop: '2%'}}>\n            <Button\n            className=\"btn btn-primary\"\n              wide\n              icon={<IconCircleCheck/>}\n              label=\"Accept\"\n              onClick={() => {\n                recordVote(\n                  EXEDS.addr,\n                  candidate,\n                  1 // APPROVE\n                );\n              }}\n              disabled={status === 1 || vote === 1 || stake.isZero()}\n            />\n          </div>\n          {/* Vote to reject candidate */}\n          <div style={{width: '3%'}} />\n          <div style={{width: '18%', paddingTop: '2%'}}>\n            <div style={{display: 'flex'}}>\n                <Button\n                className=\"btn btn-primary\"\n                  wide\n                  icon={<IconProhibited/>}\n                  label=\"Reject\"\n                  onClick={() => {\n                    recordVote(\n                      EXEDS.addr,\n                      candidate,\n                      2 // REJECT\n                    );\n                  }}\n                  disabled={status === 1 || vote === 2 || stake.isZero()}\n                />\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport default Vote;\n","import React from 'react';\n\nimport BigNumber from \"bignumber.js\";\nimport { BalanceBlock } from \"../common\";\n\ntype VoteHeaderProps = {\n  approveFor: BigNumber,\n  rejectFor: BigNumber,\n  totalStake: BigNumber,\n  showParticipation: boolean,\n};\n\nfunction approval(approve: BigNumber, reject: BigNumber): BigNumber {\n  return approve.multipliedBy(10000).dividedToIntegerBy(approve.plus(reject)).dividedBy(100)\n}\n\nfunction participation(approve: BigNumber, reject: BigNumber, totalStake: BigNumber): BigNumber {\n  return approve.plus(reject).multipliedBy(10000).dividedToIntegerBy(totalStake).dividedBy(100)\n}\n\nconst VoteHeader = ({\n  approveFor, rejectFor, totalStake, showParticipation\n}: VoteHeaderProps) => (\n  <div style={{ padding: '2%', display: 'flex', alignItems: 'center' }}>\n    <div style={{ width: '25%' }}>\n      <BalanceBlock asset=\"Approve\" balance={approveFor} suffix={ \"EXEDS\"}/>\n    </div>\n    <div style={{ width: '25%' }}>\n      <BalanceBlock asset=\"Reject\" balance={rejectFor} suffix={ \"EXEDS\"}/>\n    </div>\n    <div style={{ width: '25%' }}>\n      <BalanceBlock asset=\"Approval\" balance={approval(approveFor, rejectFor)} suffix=\"%\" />\n    </div>\n    {showParticipation ?\n      <div style={{width: '25%'}}>\n        <BalanceBlock asset=\"Participation\" balance={participation(approveFor, rejectFor, totalStake)} suffix=\"%\"/>\n      </div> : ''\n    }\n  </div>\n);\n\n\nexport default VoteHeader;\n","import React from 'react';\n\nimport NumberBlock from \"../common/NumberBlock\";\n\ntype CommitHeaderProps = {\n  epoch: number\n  startEpoch: number,\n  periodEpoch: number,\n};\n\nconst CommitHeader = ({\n   epoch, startEpoch, periodEpoch,\n}: CommitHeaderProps) => (\n  <div style={{ padding: '2%', display: 'flex', alignItems: 'center' }}>\n    <div style={{ width: '25%' }}>\n      <NumberBlock title=\"Epoch\" num={epoch} />\n    </div>\n    <div style={{ width: '25%' }}>\n      <NumberBlock title=\"Starts\" num={startEpoch} />\n    </div>\n    <div style={{ width: '25%' }}>\n      <NumberBlock title=\"Period\" num={periodEpoch} />\n    </div>\n  </div>\n);\n\n\nexport default CommitHeader;\n","import React from 'react';\nimport {\n  Box, Button, IconUpload\n} from '@aragon/ui';\nimport TextBlock from \"../common/TextBlock\";\nimport {EXEDS} from \"../../constants/tokens\";\nimport {commit} from \"../../utils/web3\";\n\ntype CommitProps = {\n  user: string,\n  candidate: string,\n  epoch: number\n  startEpoch: number,\n  periodEpoch: number,\n  initialized: boolean,\n  approved: boolean\n};\n\nfunction Commit({\n  user, candidate, epoch, startEpoch, periodEpoch, initialized, approved,\n}: CommitProps) {\n  function status(epoch, startEpoch, periodEpoch, initialized, approved): string {\n    if (startEpoch === 0) {\n      return \"N/A\";\n    }\n    if (epoch < startEpoch) {\n      return \"Unknown\";\n    }\n    if (epoch < (startEpoch + periodEpoch)) {\n      return \"Voting\"\n    }\n    if (initialized) {\n      return \"Committed\"\n    }\n    if (approved) {\n      return \"Approved\"\n    }\n    return \"Rejected\"\n  }\n  const s = status(epoch, startEpoch, periodEpoch, initialized, approved);\n\n  return (\n    <div className='card'>\n      <div className='card-body'>\n        <div style={{display: 'flex'}}>\n          {/* Status */}\n          <div style={{ width: '30%' }}>\n            <TextBlock label=\"Status\" text={s} />\n          </div>\n          <div style={{width: '40%'}} />\n          {/* Commit candidate */}\n          <div style={{width: '30%', paddingTop: '2%'}}>\n            <div style={{display: 'flex'}}>\n                <Button\n                className=\"btn btn-primary\"\n                  wide\n                  icon={<IconUpload/>}\n                  label=\"Commit\"\n                  onClick={() => {\n                    commit(\n                      EXEDS.addr,\n                      candidate\n                    );\n                  }}\n                  disabled={user === '' || s !== 'Approved'}\n                />\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport default Commit;\n","import React, { useState, useEffect } from 'react';\nimport { Header, IdentityBadge } from '@aragon/ui';\nimport { useParams } from 'react-router-dom';\n\nimport {\n  getApproveFor, getEpoch, getIsInitialized, getPeriodFor,\n  getRecordedVote,\n  getRejectFor, getStartFor, getStatusOf,\n  getTokenBalance,\n  getTokenTotalSupply, getTotalBondedAt\n} from '../../utils/infura';\nimport {EXEDS} from \"../../constants/tokens\";\nimport {toTokenUnitsBN} from \"../../utils/number\";\nimport BigNumber from \"bignumber.js\";\nimport Vote from \"./Vote\";\nimport VoteHeader from \"./VoteHeader\";\nimport CommitHeader from \"./CommitHeader\";\nimport Commit from \"./Commit\";\nimport IconHeader from \"../common/IconHeader\";\nimport {proposalStatus} from \"../../utils/gov\";\n\nfunction Candidate({ user }: {user: string}) {\n  const { candidate } = useParams();\n\n  const [approveFor, setApproveFor] = useState(new BigNumber(0));\n  const [rejectFor, setRejectFor] = useState(new BigNumber(0));\n  const [totalStake, setTotalStake] = useState(new BigNumber(0));\n  const [vote, setVote] = useState(0);\n  const [status, setStatus] = useState(0);\n  const [userStake, setUserStake] = useState(new BigNumber(0));\n  const [epoch, setEpoch] = useState(0);\n  const [startEpoch, setStartEpoch] = useState(0);\n  const [periodEpoch, setPeriodEpoch] = useState(0);\n  const [initialized, setInitialized] = useState(false);\n\n  useEffect(() => {\n    if (user === '') {\n      setVote(0);\n      setStatus(0);\n      setUserStake(new BigNumber(0));\n      return;\n    }\n    let isCancelled = false;\n\n    async function updateUserInfo() {\n      const [\n        voteStr, statusStr, userStakeStr,\n      ] = await Promise.all([\n        getRecordedVote(EXEDS.addr, user, candidate),\n        getStatusOf(EXEDS.addr, user),\n        getTokenBalance(EXEDS.addr, user),\n      ]);\n\n      if (!isCancelled) {\n        setVote(parseInt(voteStr, 10));\n        setStatus(parseInt(statusStr, 10));\n        setUserStake(toTokenUnitsBN(userStakeStr, EXEDS.decimals));\n      }\n    }\n    updateUserInfo();\n    const id = setInterval(updateUserInfo, 15000);\n\n    // eslint-disable-next-line consistent-return\n    return () => {\n      isCancelled = true;\n      clearInterval(id);\n    };\n  }, [user, candidate]);\n\n  useEffect(() => {\n    let isCancelled = false;\n\n    async function updateUserInfo() {\n      let [\n        approveForStr, rejectForStr, totalStakeStr,\n        epochStr, startForStr, periodForStr, isInitialized\n      ] = await Promise.all([\n        getApproveFor(EXEDS.addr, candidate),\n        getRejectFor(EXEDS.addr, candidate),\n        getTokenTotalSupply(EXEDS.addr),\n        getEpoch(EXEDS.addr),\n        getStartFor(EXEDS.addr, candidate),\n        getPeriodFor(EXEDS.addr, candidate),\n        getIsInitialized(EXEDS.addr, candidate),\n      ]);\n\n      const epochN = parseInt(epochStr, 10);\n      const startN = parseInt(startForStr, 10);\n      const periodN = parseInt(periodForStr, 10);\n\n      const endsAfter = (startN + periodN - 1);\n      if (epochN > endsAfter) {\n        totalStakeStr = await getTotalBondedAt(EXEDS.addr, endsAfter);\n      }\n\n      if (!isCancelled) {\n        setApproveFor(toTokenUnitsBN(approveForStr, EXEDS.decimals));\n        setRejectFor(toTokenUnitsBN(rejectForStr, EXEDS.decimals));\n        setTotalStake(toTokenUnitsBN(totalStakeStr, EXEDS.decimals));\n        setEpoch(epochN);\n        setStartEpoch(startN);\n        setPeriodEpoch(periodN);\n        setInitialized(isInitialized);\n      }\n    }\n    updateUserInfo();\n    const id = setInterval(updateUserInfo, 15000);\n\n    // eslint-disable-next-line consistent-return\n    return () => {\n      isCancelled = true;\n      clearInterval(id);\n    };\n  }, [candidate]);\n\n  return (\n    <>\n      <IconHeader icon={<i className=\"fas fa-poll\"/>} text=\"Candidate\"/>\n      <IdentityBadge entity={candidate} shorten={false} />\n\n      <VoteHeader\n        approveFor={approveFor}\n        rejectFor={rejectFor}\n        totalStake={totalStake}\n        showParticipation={startEpoch > 106}\n      />\n\n      <Header primary=\"Vote\" />\n      <Vote\n        candidate={candidate}\n        stake={userStake}\n        vote={vote}\n        status={status}\n      />\n\n      <Header primary=\"Commit\" />\n      <CommitHeader\n        epoch={epoch}\n        startEpoch={startEpoch}\n        periodEpoch={periodEpoch}\n      />\n\n      <Commit\n        user={user}\n        candidate={candidate}\n        epoch={epoch}\n        startEpoch={startEpoch}\n        periodEpoch={periodEpoch}\n        initialized={initialized}\n        approved={proposalStatus(epoch, startEpoch, periodEpoch, false, approveFor, rejectFor, totalStake) === \"Approved\"}\n      />\n    </>\n  );\n}\n\nexport default Candidate;\n","import React from 'react';\n\nimport BigNumber from \"bignumber.js\";\n\nimport {Box, Distribution} from '@aragon/ui';\nimport {formatMoney, ownership} from \"../../utils/number\";\n\ntype RegulationHeaderProps = {\n  totalSupply: BigNumber,\n\n  totalBonded: BigNumber,\n  totalStaged: BigNumber,\n  totalRedeemable: BigNumber,\n\n  poolLiquidity: BigNumber,\n  poolRewarded: BigNumber,\n  poolClaimable: BigNumber,\n\n  legacyPoolRewarded: BigNumber,\n  legacyPoolClaimable: BigNumber,\n\n  totalDebt: BigNumber,\n  totalCoupons: BigNumber,\n  totalCouponsUnderlying: BigNumber,\n  couponPremium: BigNumber,\n};\n\nconst RegulationHeader = ({\n  totalSupply,\n  totalBonded, totalStaged, totalRedeemable,\n  poolLiquidity, poolRewarded, poolClaimable,\n  legacyPoolRewarded, legacyPoolClaimable,\n  totalDebt, totalCoupons, totalCouponsUnderlying, couponPremium\n}: RegulationHeaderProps) => {\n  const daoTotalSupply = totalBonded.plus(totalStaged).plus(totalRedeemable);\n  const poolTotalSupply = poolLiquidity.plus(poolRewarded).plus(poolClaimable);\n  const legacyPoolTotalSupply = legacyPoolRewarded.plus(legacyPoolClaimable);\n  const circulatingSupply = totalSupply.minus(daoTotalSupply).minus(poolTotalSupply).minus(legacyPoolTotalSupply);\n\n  return (\n    <>\n      <div style={{display: 'flex', flexWrap: 'wrap'}}>\n        <div style={{ flexBasis: '25%', marginRight: '2%' }}>\n          Supply Allocation\n          <div className='card'>\n            <div className='card-body'>\n              <Distribution\n                heading={`${formatMoney(totalSupply.toNumber())} EXED`}\n                items={[\n                  { item: 'DAO', percentage: +(ownership(daoTotalSupply, totalSupply).toNumber().toFixed(2)) },\n                  { item: 'Uniswap', percentage: +(ownership(poolTotalSupply, totalSupply).toNumber().toFixed(2)) },\n                  { item: 'Circulating', percentage: +(ownership(circulatingSupply, totalSupply).toNumber().toFixed(2)) },\n                ]}\n              />\n            </div>\n          </div>\n        </div>\n        <div style={{ flexBasis: '25%', marginRight: '2%' }}>\n          DAO Breakdown\n          <div className='card'>\n            <div className='card-body'>\n              <Distribution\n                heading={`${formatMoney(daoTotalSupply.toNumber())} EXED`}\n                items={[\n                  { item: 'Bonded', percentage: +(ownership(totalBonded, daoTotalSupply).toNumber().toFixed(2)) },\n                  { item: 'Staged', percentage: +(ownership(totalStaged, daoTotalSupply).toNumber().toFixed(2)) },\n                  { item: 'Redeemable', percentage: +(ownership(totalRedeemable, daoTotalSupply).toNumber().toFixed(2)) },\n                ]}\n              />\n            </div>\n          </div>\n        </div>\n        <div style={{ flexBasis: '25%' }}>\n          Uniswap Breakdown\n          <div className='card'>\n            <div className='card-body'>\n              <Distribution\n                heading={`${formatMoney(poolTotalSupply.toNumber())} EXED`}\n                items={[\n                  { item: 'Liquidity', percentage: +(ownership(poolLiquidity, poolTotalSupply).toNumber().toFixed(2)) },\n                  { item: 'Rewarded', percentage: +(ownership(poolRewarded, poolTotalSupply).toNumber().toFixed(2)) },\n                  { item: 'Claimable', percentage: +(ownership(poolClaimable, poolTotalSupply).toNumber().toFixed(2)) },\n                ]}\n              />\n            </div>\n          </div>\n        </div>\n      </div>\n    </>\n  );\n}\n\n\nexport default RegulationHeader;\n","import React, {useEffect, useState} from 'react';\nimport { DataView } from '@aragon/ui';\n\nimport {getAllRegulations} from '../../utils/infura';\nimport {EXED, EXEDS} from \"../../constants/tokens\";\nimport {formatBN, toTokenUnitsBN} from \"../../utils/number\";\nimport BigNumber from \"bignumber.js\";\n\ntype RegulationHistoryProps = {\n  user: string,\n};\n\ntype Regulation = {\n  type: string,\n  data: RegulationEntry\n}\n\ntype RegulationEntry = {\n  epoch: string;\n  price: string;\n  deltaRedeemable: string;\n  deltaDebt: string;\n  deltaBonded: string;\n}\n\nfunction formatPrice(type, data) {\n  return type === 'NEUTRAL' ? '1.00' : formatBN(toTokenUnitsBN(new BigNumber(data.price), EXED.decimals), 3);\n}\n\nfunction formatDeltaRedeemable(type, data) {\n  return type === 'INCREASE' ?\n    '+' + formatBN(toTokenUnitsBN(new BigNumber(data.newRedeemable), EXED.decimals), 2) :\n    '+0.00';\n}\n\nfunction formatDeltaDebt(type, data) {\n  return type === 'INCREASE' ?\n    '-' + formatBN(toTokenUnitsBN(new BigNumber(data.lessDebt), EXED.decimals), 2) :\n    type === 'DECREASE' ?\n      '+' + formatBN(toTokenUnitsBN(new BigNumber(data.newDebt), EXED.decimals), 2) :\n      '+0.00';\n}\n\nfunction formatDeltaBonded(type, data) {\n  return type === 'INCREASE' ?\n    '+' + formatBN(toTokenUnitsBN(new BigNumber(data.newBonded), EXED.decimals), 2) :\n    '+0.00';\n}\n\nfunction renderEntry({ type, data }: Regulation): string[] {\n  return [\n    data.epoch.toString(),\n    formatPrice(type, data),\n    formatDeltaRedeemable(type, data),\n    formatDeltaDebt(type, data),\n    formatDeltaBonded(type, data),\n  ]\n}\n\nfunction RegulationHistory({\n  user,\n}: RegulationHistoryProps) {\n  const [regulations, setRegulations] = useState<Regulation[]>([]);\n  const [page, setPage] = useState(0)\n  const [initialized, setInitialized] = useState(false)\n\n  //Update User balances\n  useEffect(() => {\n    let isCancelled = false;\n\n    async function updateUserInfo() {\n      const [allRegulations] = await Promise.all([\n        getAllRegulations(EXEDS.addr),\n      ]);\n\n      if (!isCancelled) {\n        setRegulations(allRegulations);\n        setInitialized(true);\n      }\n    }\n\n    updateUserInfo();\n    const id = setInterval(updateUserInfo, 15000);\n\n    // eslint-disable-next-line consistent-return\n    return () => {\n      isCancelled = true;\n      clearInterval(id);\n    };\n  }, [user]);\n\n  return (\n    <DataView\n      emptyState={{\n        default: {\n          displayLoader: false,\n          title: 'No data available.',\n          subtitle: null,\n          illustration: null,\n          clearLabel: null,\n        },\n        loading: {\n          displayLoader: false,\n          title: '',\n          subtitle: null,\n          illustration: null,\n          clearLabel: null,\n        },\n        'empty-filters': {\n          displayLoader: false,\n          title: 'No results found.',\n          subtitle: 'We cant find any item matching your filter selection.',\n          illustration: <img src=\"empty-state-illustration-red.png\" alt=\"\" />,\n          clearLabel: 'Clear filters',\n        },\n        'empty-search': {\n          displayLoader: false,\n          title: 'No results found.',\n          subtitle: 'We cant find any item matching your search query.',\n          illustration: <img src=\"empty-state-illustration-red.png\" alt=\"\" />,\n          clearLabel: 'Clear filters',\n        },\n      }}\n      fields={['Epoch', 'Price', ' Redeemable', ' Debt', ' Bonded']}\n      status={ initialized ? 'default' : 'loading' }\n      entries={regulations}\n      entriesPerPage={10}\n      page={page}\n      onPageChange={setPage}\n      renderEntry={renderEntry}\n    />\n  );\n}\n\nexport default RegulationHistory;\n","import React, { useState, useEffect } from 'react';\nimport { Header } from '@aragon/ui';\n\nimport {\n  getCouponPremium,\n  getTotalCoupons, getTotalCouponsUnderlying,\n  getPoolTotalClaimable, getPoolTotalRewarded, getTokenBalance,\n  getTokenTotalSupply, getTotalBonded, getTotalDebt, getTotalRedeemable, getTotalStaged,\n} from '../../utils/infura';\nimport {EXED, EXEDS, UNI} from \"../../constants/tokens\";\nimport {toTokenUnitsBN} from \"../../utils/number\";\nimport BigNumber from \"bignumber.js\";\nimport RegulationHeader from \"./Header\";\nimport RegulationHistory from \"./RegulationHistory\";\nimport IconHeader from \"../common/IconHeader\";\nimport {getLegacyPoolAddress, getPoolAddress} from \"../../utils/pool\";\n\nconst ONE_COUPON = new BigNumber(10).pow(18);\n\nfunction Regulation({ user }: {user: string}) {\n\n  const [totalSupply, setTotalSupply] = useState(new BigNumber(0));\n  const [totalBonded, setTotalBonded] = useState(new BigNumber(0));\n  const [totalStaged, setTotalStaged] = useState(new BigNumber(0));\n  const [totalRedeemable, setTotalRedeemable] = useState(new BigNumber(0));\n  const [poolLiquidity, setPoolLiquidity] = useState(new BigNumber(0));\n  const [poolTotalRewarded, setPoolTotalRewarded] = useState(new BigNumber(0));\n  const [poolTotalClaimable, setPoolTotalClaimable] = useState(new BigNumber(0));\n  const [legacyPoolTotalRewarded, setLegacyPoolTotalRewarded] = useState(new BigNumber(0));\n  const [legacyPoolTotalClaimable, setLegacyPoolTotalClaimable] = useState(new BigNumber(0));\n  const [totalDebt, setTotalDebt] = useState(new BigNumber(0));\n  const [totalCoupons, setTotalCoupons] = useState(new BigNumber(0));\n  const [totalCouponsUnderlying, setTotalCouponsUnderlying] = useState(new BigNumber(0));\n  const [couponPremium, setCouponPremium] = useState(new BigNumber(0));\n\n  useEffect(() => {\n    let isCancelled = false;\n\n    async function updateUserInfo() {\n      const poolAddress = await getPoolAddress();\n      const legacyPoolAddress = getLegacyPoolAddress(poolAddress);\n\n      const [\n        totalSupplyStr,\n        totalBondedStr, totalStagedStr, totalRedeemableStr,\n        poolLiquidityStr, poolTotalRewardedStr, poolTotalClaimableStr,\n        legacyPoolTotalRewardedStr, legacyPoolTotalClaimableStr,\n        totalDebtStr, totalCouponsStr, totalCouponsUnderlyingStr\n      ] = await Promise.all([\n        getTokenTotalSupply(EXED.addr),\n\n        getTotalBonded(EXEDS.addr),\n        getTotalStaged(EXEDS.addr),\n        getTotalRedeemable(EXEDS.addr),\n\n        getTokenBalance(EXED.addr, UNI.addr),\n        getPoolTotalRewarded(poolAddress),\n        getPoolTotalClaimable(poolAddress),\n\n        getPoolTotalRewarded(legacyPoolAddress),\n        getPoolTotalClaimable(legacyPoolAddress),\n\n        getTotalDebt(EXEDS.addr),\n        getTotalCoupons(EXEDS.addr),\n        getTotalCouponsUnderlying(EXEDS.addr),\n      ]);\n\n      if (!isCancelled) {\n        setTotalSupply(toTokenUnitsBN(totalSupplyStr, EXED.decimals));\n\n        setTotalBonded(toTokenUnitsBN(totalBondedStr, EXED.decimals));\n        setTotalStaged(toTokenUnitsBN(totalStagedStr, EXED.decimals));\n        setTotalRedeemable(toTokenUnitsBN(totalRedeemableStr, EXED.decimals));\n\n        setPoolLiquidity(toTokenUnitsBN(poolLiquidityStr, EXED.decimals));\n        setPoolTotalRewarded(toTokenUnitsBN(poolTotalRewardedStr, EXED.decimals));\n        setPoolTotalClaimable(toTokenUnitsBN(poolTotalClaimableStr, EXED.decimals));\n\n        setLegacyPoolTotalRewarded(toTokenUnitsBN(legacyPoolTotalRewardedStr, EXED.decimals));\n        setLegacyPoolTotalClaimable(toTokenUnitsBN(legacyPoolTotalClaimableStr, EXED.decimals));\n\n        setTotalDebt(toTokenUnitsBN(totalDebtStr, EXED.decimals));\n        setTotalCoupons(toTokenUnitsBN(totalCouponsStr, EXED.decimals));\n        setTotalCouponsUnderlying(toTokenUnitsBN(totalCouponsUnderlyingStr, EXED.decimals));\n\n        if (new BigNumber(totalDebtStr).isGreaterThan(ONE_COUPON)) {\n          const couponPremiumStr = await getCouponPremium(EXEDS.addr, ONE_COUPON)\n          setCouponPremium(toTokenUnitsBN(couponPremiumStr, EXED.decimals));\n        } else {\n          setCouponPremium(new BigNumber(0));\n        }\n      }\n    }\n    updateUserInfo();\n    const id = setInterval(updateUserInfo, 15000);\n\n    // eslint-disable-next-line consistent-return\n    return () => {\n      isCancelled = true;\n      clearInterval(id);\n    };\n  }, [user]);\n\n  return (\n    <>\n      <IconHeader icon={<i className=\"fas fa-chart-area\"/>} text=\"Supply Regulation\"/>\n\n      <RegulationHeader\n        totalSupply={totalSupply}\n\n        totalBonded={totalBonded}\n        totalStaged={totalStaged}\n        totalRedeemable={totalRedeemable}\n\n        poolLiquidity={poolLiquidity}\n        poolRewarded={poolTotalRewarded}\n        poolClaimable={poolTotalClaimable}\n\n        legacyPoolRewarded={legacyPoolTotalRewarded}\n        legacyPoolClaimable={legacyPoolTotalClaimable}\n\n        totalDebt={totalDebt}\n        totalCoupons={totalCoupons}\n        totalCouponsUnderlying={totalCouponsUnderlying}\n        couponPremium={couponPremium}\n      />\n\n      <Header primary=\"Regulation History\" />\n\n      <RegulationHistory\n        user={user}\n      />\n    </>\n  );\n}\n\nexport default Regulation;\n","import React, { useState } from 'react';\nimport {\n  Box, Button, IconCirclePlus, IconCircleMinus, IconLock\n} from '@aragon/ui';\nimport BigNumber from 'bignumber.js';\nimport {\n  BalanceBlock, MaxButton,\n} from '../common/index';\nimport {approve, depositPool, withdrawPool} from '../../utils/web3';\nimport {isPos, toBaseUnitBN} from '../../utils/number';\nimport {UNI} from \"../../constants/tokens\";\nimport {MAX_UINT256} from \"../../constants/values\";\nimport BigNumberInput from \"../common/BigNumberInput\";\n\ntype WithdrawDepositProps = {\n  poolAddress: string\n  user: string\n  balance: BigNumber,\n  allowance: BigNumber,\n  stagedBalance: BigNumber,\n  status: number\n};\n\nfunction WithdrawDeposit({\n  poolAddress, user, balance, allowance, stagedBalance, status\n}: WithdrawDepositProps) {\n  const [depositAmount, setDepositAmount] = useState(new BigNumber(0));\n  const [withdrawAmount, setWithdrawAmount] = useState(new BigNumber(0));\n\n  return (\n    <div className='card'>\n      <div className='card-body'>\n        {allowance.comparedTo(MAX_UINT256) === 0 ?\n          <div style={{display: 'flex', flexWrap: 'wrap'}}>\n            {/* total Issued */}\n            <div style={{flexBasis: '32%'}}>\n              <BalanceBlock asset=\"Staged\" balance={stagedBalance} suffix={\"UNI-V2\"}/>\n            </div>\n            {/* Deposit UNI-V2 into Pool */}\n            <div style={{flexBasis: '33%', paddingTop: '2%'}}>\n              <div style={{display: 'flex'}}>\n                <div style={{width: '60%', minWidth: '6em'}}>\n                  <>\n                    <BigNumberInput\n                      adornment=\"UNI-V2\"\n                      value={depositAmount}\n                      setter={setDepositAmount}\n                      disabled={status !== 0}\n                    />\n                    <MaxButton\n                      onClick={() => {\n                        setDepositAmount(balance);\n                      }}\n                    />\n                  </>\n                </div>\n                <div style={{width: '40%', minWidth: '7em'}}>\n                  <Button\n                  className=\"btn btn-primary\"\n                    wide\n                    icon={status === 0 ? <IconCirclePlus/> : <IconLock/>}\n                    label=\"Deposit\"\n                    onClick={() => {\n                      depositPool(\n                        poolAddress,\n                        toBaseUnitBN(depositAmount, UNI.decimals),\n                        (hash) => setDepositAmount(new BigNumber(0))\n                      );\n                    }}\n                    disabled={poolAddress === '' || status !== 0 || !isPos(depositAmount)}\n                  />\n                </div>\n              </div>\n            </div>\n            <div style={{flexBasis: '2%'}}/>\n            {/* Withdraw EXED from DAO */}\n            <div style={{flexBasis: '33%', paddingTop: '2%'}}>\n              <div style={{display: 'flex'}}>\n                <div style={{width: '60%', minWidth: '6em'}}>\n                  <>\n                    <BigNumberInput\n                      adornment=\"UNI-V2\"\n                      value={withdrawAmount}\n                      setter={setWithdrawAmount}\n                      disabled={status !== 0}\n                    />\n                    <MaxButton\n                      onClick={() => {\n                        setWithdrawAmount(stagedBalance);\n                      }}\n                    />\n                  </>\n                </div>\n                <div style={{width: '40%', minWidth: '7em'}}>\n                  <Button\n                  className=\"btn btn-primary\"\n                    wide\n                    icon={status === 0 ? <IconCircleMinus/> : <IconLock/>}\n                    label=\"Withdraw\"\n                    onClick={() => {\n                      withdrawPool(\n                        poolAddress,\n                        toBaseUnitBN(withdrawAmount, UNI.decimals),\n                        (hash) => setWithdrawAmount(new BigNumber(0))\n                      );\n                    }}\n                    disabled={poolAddress === '' || status !== 0 || !isPos(withdrawAmount)}\n                  />\n                </div>\n              </div>\n            </div>\n          </div>\n          :\n          <div style={{display: 'flex', flexWrap: 'wrap'}}>\n            {/* total Issued */}\n            <div style={{flexBasis: '32%'}}>\n              <BalanceBlock asset=\"Staged\" balance={stagedBalance} suffix={\"UNI-V2\"}/>\n            </div>\n            <div style={{flexBasis: '35%'}}/>\n            {/* Approve Pool to spend UNI-V2 */}\n            <div style={{flexBasis: '33%', paddingTop: '2%'}}>\n              <Button\n              className=\"btn btn-primary\"\n                wide\n                icon={<IconCirclePlus />}\n                label=\"Approve\"\n                onClick={() => {\n                  approve(UNI.addr, poolAddress);\n                }}\n                disabled={poolAddress === '' || user === ''}\n              />\n            </div>\n          </div>\n        }\n      </div>\n    </div>\n  );\n}\n\nexport default WithdrawDeposit;\n","import React, { useState } from 'react';\nimport {\n  Box, Button, IconCirclePlus, IconCircleMinus, IconCaution\n} from '@aragon/ui';\nimport BigNumber from 'bignumber.js';\nimport {\n  BalanceBlock, MaxButton,\n} from '../common/index';\nimport {bondPool, unbondPool} from '../../utils/web3';\nimport {isPos, toBaseUnitBN} from '../../utils/number';\nimport {UNI} from \"../../constants/tokens\";\nimport BigNumberInput from \"../common/BigNumberInput\";\nimport TextBlock from \"../common/TextBlock\";\n\ntype BondUnbondProps = {\n  poolAddress: string,\n  staged: BigNumber,\n  bonded: BigNumber,\n  status: number,\n  lockup: number,\n};\n\nfunction BondUnbond({\n  poolAddress, staged, bonded, status, lockup\n}: BondUnbondProps) {\n  const [bondAmount, setBondAmount] = useState(new BigNumber(0));\n  const [unbondAmount, setUnbondAmount] = useState(new BigNumber(0));\n\n  return (\n    <div className='card'>\n      <div className='card-body'>\n        <div style={{display: 'flex', flexWrap: 'wrap'}}>\n          {/* Total bonded */}\n          <div style={{flexBasis: '16%'}}>\n            <BalanceBlock asset=\"Bonded\" balance={bonded} suffix={\"UNI-V2\"} />\n          </div>\n          {/* Exit lockup */}\n          <div style={{flexBasis: '16%'}}>\n            <TextBlock label=\"Exit Lockup\" text={lockup === 0 ? \"\" : lockup === 1 ? \"1 epoch\" : `${lockup} epochs`}/>\n          </div>\n          {/* Bond UNI-V2 within Pool */}\n          <div style={{flexBasis: '33%', paddingTop: '2%'}}>\n            <div style={{display: 'flex'}}>\n              <div style={{width: '60%', minWidth: '6em'}}>\n                <>\n                  <BigNumberInput\n                    adornment=\"UNI-V2\"\n                    value={bondAmount}\n                    setter={setBondAmount}\n                  />\n                  <MaxButton\n                    onClick={() => {\n                      setBondAmount(staged);\n                    }}\n                  />\n                </>\n              </div>\n              <div style={{width: '40%', minWidth: '7em'}}>\n                <Button\n                  className=\"btn btn-primary\"\n                  wide\n                  icon={status === 0 ? <IconCirclePlus/> : <IconCaution/>}\n                  label=\"Bond\"\n                  onClick={() => {\n                    bondPool(\n                      poolAddress,\n                      toBaseUnitBN(bondAmount, UNI.decimals),\n                      (hash) => setBondAmount(new BigNumber(0))\n                    );\n                  }}\n                  disabled={poolAddress === '' || !isPos(bondAmount)}\n                />\n              </div>\n            </div>\n          </div>\n          <div style={{flexBasis: '2%'}}/>\n          {/* Unbond UNI-V2 within Pool */}\n          <div style={{flexBasis: '33%', paddingTop: '2%'}}>\n            <div style={{display: 'flex'}}>\n              <div style={{width: '60%', minWidth: '6em'}}>\n                <>\n                  <BigNumberInput\n                    adornment=\"UNI-V2\"\n                    value={unbondAmount}\n                    setter={setUnbondAmount}\n                  />\n                  <MaxButton\n                    onClick={() => {\n                      setUnbondAmount(bonded);\n                    }}\n                  />\n                </>\n              </div>\n              <div style={{width: '40%', minWidth: '7em'}}>\n                <Button\n                className=\"btn btn-primary\"\n                  wide\n                  icon={status === 0 ? <IconCircleMinus/> : <IconCaution/>}\n                  label=\"Unbond\"\n                  onClick={() => {\n                    unbondPool(\n                      poolAddress,\n                      toBaseUnitBN(unbondAmount, UNI.decimals),\n                      (hash) => setUnbondAmount(new BigNumber(0))\n                    );\n                  }}\n                  disabled={poolAddress === '' || !isPos(unbondAmount)}\n                />\n              </div>\n            </div>\n          </div>\n        </div>\n        <div style={{width: '100%', paddingTop: '2%', textAlign: 'center'}}>\n          <span style={{ opacity: 0.5 }}> Bonding events will restart the lockup timer </span>\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport default BondUnbond;\n","import React from 'react';\nimport BigNumber from 'bignumber.js';\n\nimport { BalanceBlock } from '../common/index';\nimport TextBlock from \"../common/TextBlock\";\nimport {ownership} from \"../../utils/number\";\n\ntype PoolPageHeaderProps = {\n  accountUNIBalance: BigNumber,\n  accountBondedBalance: BigNumber,\n  accountRewardedESDBalance: BigNumber,\n  accountClaimableESDBalance: BigNumber,\n  poolTotalBonded: BigNumber,\n  accountPoolStatus: number,\n  unlocked: number,\n};\n\nconst STATUS_MAP = [\"Unlocked\", \"Locked\"];\n\nfunction status(accountStatus, unlocked) {\n  return STATUS_MAP[accountStatus] + (accountStatus === 0 ? \"\" : \" until \" + unlocked)\n}\n\nconst PoolPageHeader = ({\n  accountUNIBalance, accountBondedBalance, accountRewardedESDBalance, accountClaimableESDBalance, poolTotalBonded, accountPoolStatus, unlocked\n}: PoolPageHeaderProps) => (\n  <div style={{ padding: '2%', display: 'flex', flexWrap: 'wrap', alignItems: 'center' }}>\n    <div style={{ flexBasis: '20%' }}>\n      <BalanceBlock asset=\"Balance\" balance={accountUNIBalance}  suffix={\" UNI-V2\"}/>\n    </div>\n    <div style={{ flexBasis: '20%' }}>\n      <BalanceBlock asset=\"Rewarded\" balance={accountRewardedESDBalance} suffix={\" EXED\"} />\n    </div>\n    <div style={{ flexBasis: '20%' }}>\n      <BalanceBlock asset=\"Claimable\" balance={accountClaimableESDBalance} suffix={\" EXED\"} />\n    </div>\n    <div style={{ flexBasis: '20%' }}>\n      <BalanceBlock asset=\"Pool Ownership\" balance={ownership(accountBondedBalance, poolTotalBonded)}  suffix={\"%\"}/>\n    </div>\n    <div style={{ flexBasis: '20%' }}>\n      <TextBlock label=\"Pool Status\" text={status(accountPoolStatus, unlocked)}/>\n    </div>\n  </div>\n);\n\n\nexport default PoolPageHeader;\n","import React, { useState } from 'react';\nimport {\n  Box, Button, IconArrowDown\n} from '@aragon/ui';\nimport BigNumber from 'bignumber.js';\nimport {\n  BalanceBlock, MaxButton,\n} from '../common/index';\nimport {claimPool} from '../../utils/web3';\nimport {isPos, toBaseUnitBN} from '../../utils/number';\nimport {EXED} from \"../../constants/tokens\";\nimport BigNumberInput from \"../common/BigNumberInput\";\n\ntype ClaimProps = {\n  poolAddress: string\n  claimable: BigNumber,\n  status: number\n};\n\nfunction Claim({\n  poolAddress, claimable, status\n}: ClaimProps) {\n  const [claimAmount, setClaimAmount] = useState(new BigNumber(0));\n\n  return (\n    <div className='card'>\n      <div className='card-body'>\n        <div style={{display: 'flex', flexWrap: 'wrap'}}>\n          {/* total Issued */}\n          <div style={{flexBasis: '32%'}}>\n            <BalanceBlock asset=\"Claimable\" balance={claimable} suffix={\"EXED\"} />\n          </div>\n          {/* Deposit UNI-V2 into Pool */}\n          <div style={{flexBasis: '35%'}}/>\n          <div style={{flexBasis: '33%', paddingTop: '2%'}}>\n            <div style={{display: 'flex'}}>\n              <div style={{width: '60%', minWidth: '6em'}}>\n                <>\n                  <BigNumberInput\n                    adornment=\"EXED\"\n                    value={claimAmount}\n                    setter={setClaimAmount}\n                    disabled={status !== 0}\n                  />\n                  <MaxButton\n                    onClick={() => {\n                      setClaimAmount(claimable);\n                    }}\n                  />\n                </>\n              </div>\n              <div style={{width: '40%', minWidth: '6em'}}>\n                <Button\n                className=\"btn btn-primary\"\n                  wide\n                  icon={<IconArrowDown/>}\n                  label=\"Claim\"\n                  onClick={() => {\n                    claimPool(\n                      poolAddress,\n                      toBaseUnitBN(claimAmount, EXED.decimals),\n                      (hash) => setClaimAmount(new BigNumber(0))\n                    );\n                  }}\n                  disabled={poolAddress === '' || status !== 0 || !isPos(claimAmount)}\n                />\n              </div>\n            </div>\n          </div>\n        </div>\n        <div style={{width: '100%', paddingTop: '2%', textAlign: 'center'}}>\n          <span style={{ opacity: 0.5 }}> Unbond to make rewards claimable after your status is Unlocked </span>\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport default Claim;\n","import React, { useState } from 'react';\nimport {\n  Box, Button, IconArrowUp, IconCirclePlus\n} from '@aragon/ui';\nimport BigNumber from 'bignumber.js';\nimport {\n  BalanceBlock, MaxButton, PriceSection,\n} from '../common/index';\nimport {approve, providePool} from '../../utils/web3';\nimport {isPos, toBaseUnitBN, toTokenUnitsBN} from '../../utils/number';\nimport {EXED, USDC} from \"../../constants/tokens\";\nimport {MAX_UINT256} from \"../../constants/values\";\nimport BigNumberInput from \"../common/BigNumberInput\";\n\ntype ProvideProps = {\n  poolAddress: string,\n  user: string,\n  rewarded: BigNumber,\n  pairBalanceESD: BigNumber,\n  pairBalanceUSDC: BigNumber,\n  userUSDCBalance: BigNumber,\n  userUSDCAllowance: BigNumber,\n  status: number,\n};\n\nfunction Provide({\n  poolAddress, user, rewarded, pairBalanceESD, pairBalanceUSDC, userUSDCBalance, userUSDCAllowance, status\n}: ProvideProps) {\n  const [provideAmount, setProvideAmount] = useState(new BigNumber(0));\n  const [usdcAmount, setUsdcAmount] = useState(new BigNumber(0));\n\n  const USDCToESDRatio = pairBalanceUSDC.isZero() ? new BigNumber(1) : pairBalanceUSDC.div(pairBalanceESD);\n\n  const onChangeAmountESD = (amountESD) => {\n    if (!amountESD) {\n      setProvideAmount(new BigNumber(0));\n      setUsdcAmount(new BigNumber(0));\n      return;\n    }\n\n    const amountESDBN = new BigNumber(amountESD)\n    setProvideAmount(amountESDBN);\n\n    const amountESDBU = toBaseUnitBN(amountESDBN, EXED.decimals);\n    const newAmountUSDC = toTokenUnitsBN(\n      amountESDBU.multipliedBy(USDCToESDRatio).integerValue(BigNumber.ROUND_FLOOR),\n      EXED.decimals);\n    setUsdcAmount(newAmountUSDC);\n  };\n\n  return (\n    <div className='card'>\n      <div className='card-body'>\n        {userUSDCAllowance.comparedTo(MAX_UINT256.dividedBy(2)) > 0 ?\n          <div style={{display: 'flex', flexWrap: 'wrap'}}>\n            {/* total rewarded */}\n            <div style={{flexBasis: '32%'}}>\n              <BalanceBlock asset=\"Rewarded\" balance={rewarded} suffix={\"EXED\"} />\n            </div>\n            <div style={{flexBasis: '33%'}}>\n              <BalanceBlock asset=\"USDC Balance\" balance={userUSDCBalance} suffix={\"USDC\"} />\n            </div>\n            <div style={{flexBasis: '2%'}}/>\n            {/* Provide liquidity using Pool rewards */}\n            <div style={{flexBasis: '33%', paddingTop: '2%'}}>\n              <div style={{display: 'flex'}}>\n                <div style={{width: '60%', minWidth: '6em'}}>\n                  <>\n                    <BigNumberInput\n                      adornment=\"EXED\"\n                      value={provideAmount}\n                      setter={onChangeAmountESD}\n                      disabled={status === 1}\n                    />\n                    <PriceSection label=\"Requires \" amt={usdcAmount} symbol=\" USDC\"/>\n                    <MaxButton\n                      onClick={() => {\n                        onChangeAmountESD(rewarded);\n                      }}\n                    />\n                  </>\n                </div>\n                <div style={{width: '40%', minWidth: '6em'}}>\n                  <Button\n                  className=\"btn btn-primary\"\n                    wide\n                    icon={<IconArrowUp/>}\n                    label=\"Provide\"\n                    onClick={() => {\n                      providePool(\n                        poolAddress,\n                        toBaseUnitBN(provideAmount, EXED.decimals),\n                        (hash) => setProvideAmount(new BigNumber(0))\n                      );\n                    }}\n                    disabled={poolAddress === '' || status !== 0 || !isPos(provideAmount) || usdcAmount.isGreaterThan(userUSDCBalance)}\n                  />\n                </div>\n              </div>\n            </div>\n          </div>\n          :\n          <div style={{display: 'flex', flexWrap: 'wrap'}}>\n            {/* total rewarded */}\n            <div style={{flexBasis: '32%'}}>\n              <BalanceBlock asset=\"Rewarded\" balance={rewarded} suffix={\"EXED\"} />\n            </div>\n            <div style={{flexBasis: '33%'}}>\n              <BalanceBlock asset=\"USDC Balance\" balance={userUSDCBalance} suffix={\"USDC\"} />\n            </div>\n            <div style={{flexBasis: '2%'}}/>\n            {/* Approve Pool to spend USDC */}\n            <div style={{flexBasis: '33%', paddingTop: '2%'}}>\n              <Button\n              className=\"btn btn-primary\"\n                wide\n                icon={<IconCirclePlus/>}\n                label=\"Approve\"\n                onClick={() => {\n                  approve(USDC.addr, poolAddress);\n                }}\n                disabled={poolAddress === '' || user === ''}\n              />\n            </div>\n          </div>\n        }\n        <div style={{width: '100%', paddingTop: '2%', textAlign: 'center'}}>\n          <span style={{ opacity: 0.5 }}> Zap your rewards directly to LP by providing more USDC </span>\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport default Provide;\n","import React, { useState, useEffect } from 'react';\nimport { useParams } from 'react-router-dom';\n\nimport BigNumber from 'bignumber.js';\nimport {\n  getPoolBalanceOfBonded, getPoolBalanceOfClaimable,\n  getPoolBalanceOfRewarded,\n  getPoolBalanceOfStaged,\n  getPoolStatusOf, getPoolTotalBonded,\n  getTokenAllowance,\n  getTokenBalance,\n  getPoolFluidUntil\n} from '../../utils/infura';\nimport {EXED, UNI, USDC} from \"../../constants/tokens\";\nimport {POOL_EXIT_LOCKUP_EPOCHS} from \"../../constants/values\";\nimport { toTokenUnitsBN } from '../../utils/number';\nimport { Header } from '@aragon/ui';\n\nimport WithdrawDeposit from \"./WithdrawDeposit\";\nimport BondUnbond from \"./BondUnbond\";\nimport PoolPageHeader from \"./Header\";\nimport Claim from \"./Claim\";\nimport Provide from \"./Provide\";\nimport IconHeader from \"../common/IconHeader\";\nimport Migrate from \"./Migrate\";\nimport {getLegacyPoolAddress, getPoolAddress} from \"../../utils/pool\";\nimport {DollarPool2} from \"../../constants/contracts\";\n\n\n\nfunction Pool({ user }: {user: string}) {\n  const { override } = useParams();\n  if (override) {\n    user = override;\n  }\n\n  const [poolAddress, setPoolAddress] = useState(\"\");\n  const [poolTotalBonded, setPoolTotalBonded] = useState(new BigNumber(0));\n  const [pairBalanceESD, setPairBalanceESD] = useState(new BigNumber(0));\n  const [pairBalanceUSDC, setPairBalanceUSDC] = useState(new BigNumber(0));\n  const [userUNIBalance, setUserUNIBalance] = useState(new BigNumber(0));\n  const [userUNIAllowance, setUserUNIAllowance] = useState(new BigNumber(0));\n  const [userUSDCBalance, setUserUSDCBalance] = useState(new BigNumber(0));\n  const [userUSDCAllowance, setUserUSDCAllowance] = useState(new BigNumber(0));\n  const [userStagedBalance, setUserStagedBalance] = useState(new BigNumber(0));\n  const [userBondedBalance, setUserBondedBalance] = useState(new BigNumber(0));\n  const [userRewardedBalance, setUserRewardedBalance] = useState(new BigNumber(0));\n  const [userClaimableBalance, setUserClaimableBalance] = useState(new BigNumber(0));\n  const [userStatus, setUserStatus] = useState(0);\n  const [userStatusUnlocked, setUserStatusUnlocked] = useState(0);\n  const [legacyUserStagedBalance, setLegacyUserStagedBalance] = useState(new BigNumber(0));\n  const [legacyUserBondedBalance, setLegacyUserBondedBalance] = useState(new BigNumber(0));\n  const [legacyUserRewardedBalance, setLegacyUserRewardedBalance] = useState(new BigNumber(0));\n  const [legacyUserClaimableBalance, setLegacyUserClaimableBalance] = useState(new BigNumber(0));\n  const [legacyUserStatus, setLegacyUserStatus] = useState(0);\n  const [lockup, setLockup] = useState(0);\n\n  //Update User balances\n  useEffect(() => {\n    if (user === '') {\n      setPoolAddress(\"\");\n      setPoolTotalBonded(new BigNumber(0));\n      setPairBalanceESD(new BigNumber(0));\n      setPairBalanceUSDC(new BigNumber(0));\n      setUserUNIBalance(new BigNumber(0));\n      setUserUNIAllowance(new BigNumber(0));\n      setUserUSDCBalance(new BigNumber(0));\n      setUserUSDCAllowance(new BigNumber(0));\n      setUserStagedBalance(new BigNumber(0));\n      setUserBondedBalance(new BigNumber(0));\n      setUserRewardedBalance(new BigNumber(0));\n      setUserClaimableBalance(new BigNumber(0));\n      setUserStatus(0);\n      setUserStatusUnlocked(0);\n      setLegacyUserStagedBalance(new BigNumber(0));\n      setLegacyUserBondedBalance(new BigNumber(0));\n      setLegacyUserRewardedBalance(new BigNumber(0));\n      setLegacyUserClaimableBalance(new BigNumber(0));\n      setLegacyUserStatus(0);\n      return;\n    }\n    let isCancelled = false;\n\n    async function updateUserInfo() {\n      const poolAddressStr = await getPoolAddress();\n      const legacyPoolAddress = getLegacyPoolAddress(poolAddressStr);\n\n      const [\n        poolTotalBondedStr, pairBalanceESDStr, pairBalanceUSDCStr, balance, usdcBalance,\n        allowance, usdcAllowance, stagedBalance, bondedBalance,\n        rewardedBalance, claimableBalance, status, fluidUntilStr,\n        legacyStagedBalance, legacyBondedBalance, legacyRewardedBalance, legacyClaimableBalance, legacyStatus\n      ] = await Promise.all([\n        getPoolTotalBonded(poolAddressStr),\n        getTokenBalance(EXED.addr, UNI.addr),\n        getTokenBalance(USDC.addr, UNI.addr),\n        getTokenBalance(UNI.addr, user),\n        getTokenBalance(USDC.addr, user),\n\n        getTokenAllowance(UNI.addr, user, poolAddressStr),\n        getTokenAllowance(USDC.addr, user, poolAddressStr),\n        getPoolBalanceOfStaged(poolAddressStr, user),\n        getPoolBalanceOfBonded(poolAddressStr, user),\n\n        getPoolBalanceOfRewarded(poolAddressStr, user),\n        getPoolBalanceOfClaimable(poolAddressStr, user),\n        getPoolStatusOf(poolAddressStr, user),\n        getPoolFluidUntil(poolAddressStr, user),\n\n        getPoolBalanceOfStaged(legacyPoolAddress, user),\n        getPoolBalanceOfBonded(legacyPoolAddress, user),\n        getPoolBalanceOfRewarded(legacyPoolAddress, user),\n        getPoolBalanceOfClaimable(legacyPoolAddress, user),\n        getPoolStatusOf(legacyPoolAddress, user)\n      ]);\n\n      const poolTotalBonded = toTokenUnitsBN(poolTotalBondedStr, EXED.decimals);\n      const pairESDBalance = toTokenUnitsBN(pairBalanceESDStr, EXED.decimals);\n      const pairUSDCBalance = toTokenUnitsBN(pairBalanceUSDCStr, USDC.decimals);\n      const userUNIBalance = toTokenUnitsBN(balance, UNI.decimals);\n      const userUSDCBalance = toTokenUnitsBN(usdcBalance, USDC.decimals);\n      const userStagedBalance = toTokenUnitsBN(stagedBalance, UNI.decimals);\n      const userBondedBalance = toTokenUnitsBN(bondedBalance, UNI.decimals);\n      const userRewardedBalance = toTokenUnitsBN(rewardedBalance, EXED.decimals);\n      const userClaimableBalance = toTokenUnitsBN(claimableBalance, EXED.decimals);\n      const userStatus = parseInt(status, 10);\n      const fluidUntil = parseInt(fluidUntilStr, 10);\n      const legacyUserStagedBalance = toTokenUnitsBN(legacyStagedBalance, UNI.decimals);\n      const legacyUserBondedBalance = toTokenUnitsBN(legacyBondedBalance, UNI.decimals);\n      const legacyUserRewardedBalance = toTokenUnitsBN(legacyRewardedBalance, UNI.decimals);\n      const legacyUserClaimableBalance = toTokenUnitsBN(legacyClaimableBalance, EXED.decimals);\n      const legacyUserStatus = parseInt(legacyStatus, 10);\n\n      if (!isCancelled) {\n        setPoolAddress(poolAddressStr);\n        setPoolTotalBonded(new BigNumber(poolTotalBonded));\n        setPairBalanceESD(new BigNumber(pairESDBalance));\n        setPairBalanceUSDC(new BigNumber(pairUSDCBalance));\n        setUserUNIBalance(new BigNumber(userUNIBalance));\n        setUserUNIAllowance(new BigNumber(allowance));\n        setUserUSDCAllowance(new BigNumber(usdcAllowance));\n        setUserUSDCBalance(new BigNumber(userUSDCBalance));\n        setUserStagedBalance(new BigNumber(userStagedBalance));\n        setUserBondedBalance(new BigNumber(userBondedBalance));\n        setUserRewardedBalance(new BigNumber(userRewardedBalance));\n        setUserClaimableBalance(new BigNumber(userClaimableBalance));\n        setUserStatus(userStatus);\n        setUserStatusUnlocked(fluidUntil);\n        setLegacyUserStagedBalance(new BigNumber(legacyUserStagedBalance));\n        setLegacyUserBondedBalance(new BigNumber(legacyUserBondedBalance));\n        setLegacyUserRewardedBalance(new BigNumber(legacyUserRewardedBalance));\n        setLegacyUserClaimableBalance(new BigNumber(legacyUserClaimableBalance));\n        setLegacyUserStatus(legacyUserStatus);\n        setLockup(poolAddressStr === DollarPool2 ? POOL_EXIT_LOCKUP_EPOCHS : 1);\n      }\n    }\n    updateUserInfo();\n    const id = setInterval(updateUserInfo, 15000);\n\n    // eslint-disable-next-line consistent-return\n    return () => {\n      isCancelled = true;\n      clearInterval(id);\n    };\n  }, [user]);\n  // Check for error in .call()\n  const isRewardedNegative = legacyUserRewardedBalance.isGreaterThan(new BigNumber(\"1000000000000000000\"));\n  let hasLegacyBalance = legacyUserStagedBalance.isGreaterThan(0) || legacyUserClaimableBalance.isGreaterThan(0) || legacyUserBondedBalance.isGreaterThan(0);\n  hasLegacyBalance = false; // ToDo don't hardcode this  \n  return (\n    <>\n      <IconHeader icon={<i className=\"fas fa-parachute-box\"/>} text=\"LP Reward Pool\"/>\n\n      {hasLegacyBalance ?\n        <>\n          <Header primary={\"Legacy Pool Migration\"}/>\n\n          <Migrate\n            legacyPoolAddress={getLegacyPoolAddress(poolAddress)}\n            isRewardNegative={isRewardedNegative}\n            staged={legacyUserStagedBalance}\n            claimable={legacyUserClaimableBalance}\n            bonded={legacyUserBondedBalance}\n            status={legacyUserStatus}\n          />\n        </>\n        : ''}\n\n      <PoolPageHeader\n        accountUNIBalance={userUNIBalance}\n        accountBondedBalance={userBondedBalance}\n        accountRewardedESDBalance={userRewardedBalance}\n        accountClaimableESDBalance={userClaimableBalance}\n        poolTotalBonded={poolTotalBonded}\n        accountPoolStatus={userStatus}\n        unlocked={userStatusUnlocked}\n      />\n\n      <WithdrawDeposit\n        poolAddress={poolAddress}\n        user={user}\n        balance={userUNIBalance}\n        allowance={userUNIAllowance}\n        stagedBalance={userStagedBalance}\n        status={userStatus}\n      />\n\n      <BondUnbond\n        poolAddress={poolAddress}\n        staged={userStagedBalance}\n        bonded={userBondedBalance}\n        status={userStatus}\n        lockup={lockup}\n      />\n\n      <Claim\n        poolAddress={poolAddress}\n        claimable={userClaimableBalance}\n        status={userStatus}\n      />\n\n      <Provide\n        poolAddress={poolAddress}\n        user={user}\n        rewarded={isRewardedNegative ? new BigNumber(0) : userRewardedBalance}\n        status={userStatus}\n        pairBalanceESD={pairBalanceESD}\n        pairBalanceUSDC={pairBalanceUSDC}\n        userUSDCBalance={userUSDCBalance}\n        userUSDCAllowance={userUSDCAllowance}\n      />\n    </>\n  );\n}\n\nexport default Pool;\n","import React from 'react';\nimport {\n  Box, LinkBase, Tag,\n} from '@aragon/ui';\n\nfunction HomePageNoWeb3() {\n\n  return (\n    <>\n      <div style={{ padding: '1%', display: 'flex', alignItems: 'center' }}>\n        <MainButton\n          title=\"No web3 wallet detected\"\n          description=\"Click to get Metamask.\"\n          icon={<i className=\"fas fa-times-circle\"/>}\n          onClick={() => {\n            // @ts-ignore\n            window.location = 'https://www.metamask.io/';\n          }}\n        />\n      </div>\n    </>\n  );\n}\n\ntype MainButtonPropx = {\n  title: string,\n  description: string,\n  icon: any,\n  onClick: Function,\n  tag?:string\n}\n\nfunction MainButton({\n  title, description, icon, onClick, tag,\n}:MainButtonPropx) {\n  return (\n    <LinkBase onClick={onClick} style={{ width: '100%' }}>\n      <div className='card'>\n        <div className='card-body'>\n          <div style={{ padding: 10, fontSize: 18 }}>\n            {title}\n            {tag ? <Tag>{tag}</Tag> : <></>}\n          </div>\n          <span style={{ fontSize: 48 }}>\n            {icon}\n          </span>\n          {/*<img alt=\"icon\" style={{ padding: 10, height: 64 }} src={iconUrl} />*/}\n          <div style={{ paddingTop: 5, opacity: 0.5 }}>\n            {' '}\n            {description}\n            {' '}\n          </div>\n        </div>\n      </div>\n    </LinkBase>\n  );\n}\n\nexport default HomePageNoWeb3;\n","import React, {useEffect, useState} from 'react';\n\nimport { HashRouter as Router, Switch, Route } from 'react-router-dom';\nimport { Main, Layout } from '@aragon/ui';\nimport { UseWalletProvider } from 'use-wallet';\nimport { updateModalMode } from './utils/web3';\nimport { storePreference, getPreference } from './utils/storage';\nimport NavBar from './components/NavBar';\nimport HomePage from './components/HomePage';\nimport Trade from './components/Trade/index';\nimport Wallet from \"./components/Wallet\";\nimport EpochDetail from \"./components/EpochDetail\";\nimport CouponMarket from \"./components/CouponMarket\";\nimport Governance from \"./components/Governance\";\nimport Candidate from \"./components/Candidate\";\nimport Regulation from \"./components/Regulation\";\nimport Pool from \"./components/Pool\";\nimport HomePageNoWeb3 from \"./components/HomePageNoWeb3\";\n\nfunction App() {\n  const storedTheme = getPreference('theme', 'light');\n\n  const [hasWeb3, setHasWeb3] = useState(false);\n  const [user, setUser] = useState(''); // the current connected user\n  const [theme, setTheme] = useState(storedTheme);\n\n  useEffect(() => {\n    let isCancelled = false;\n\n    async function updateUserInfo() {\n      if (!isCancelled) {\n        // @ts-ignore\n        setHasWeb3(typeof window.ethereum !== 'undefined');\n      }\n    }\n\n    updateUserInfo();\n    const id = setInterval(updateUserInfo, 15000);\n\n    // eslint-disable-next-line consistent-return\n    return () => {\n      isCancelled = true;\n      clearInterval(id);\n    };\n  }, [user]);\n\n  return (\n    <Router>\n      <UseWalletProvider\n        chainId={1}\n        connectors={{\n          walletconnect: { rpcUrl: 'https://mainnet.eth.aragon.network/' },\n          walletlink: {\n            url: 'https://mainnet.eth.aragon.network/',\n            appName:'Coinbase Wallet',\n            appLogoUrl: ''\n          }\n        }}\n      >\n        <Main assetsUrl={`${process.env.PUBLIC_URL}/aragon-ui/`} theme={theme} layout={false}>\n          <NavBar hasWeb3={hasWeb3} user={user} setUser={setUser} />\n          <Layout>\n          {\n            hasWeb3 ?\n              <Switch>\n                <Route path=\"/dao/:override\"><Wallet user={user}/></Route>\n                <Route path=\"/dao/\"><Wallet user={user}/></Route>\n                <Route path=\"/epoch/\"><EpochDetail user={user}/></Route>\n                <Route path=\"/coupons/:override\"><CouponMarket user={user}/></Route>\n                <Route path=\"/coupons/\"><CouponMarket user={user}/></Route>\n                <Route path=\"/governance/candidate/:candidate\"><Candidate user={user}/></Route>\n                <Route path=\"/governance/\"><Governance user={user}/></Route>\n                <Route path=\"/trade/\"><Trade user={user}/></Route>\n                <Route path=\"/regulation/\"><Regulation user={user}/></Route>\n                <Route path=\"/pool/:override\"><Pool user={user}/></Route>\n                <Route path=\"/pool/\"><Pool user={user}/></Route>\n                <Route path=\"/\"><HomePage user={user}/></Route>\n              </Switch>\n              :\n              <Switch>\n                <Route path=\"/\"><HomePageNoWeb3/></Route>\n              </Switch>\n          }\n          </Layout>\n          <div style={{height: '128px', width: '100%'}}/>\n        </Main>\n      </UseWalletProvider>\n    </Router>\n  );\n}\n\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' }\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport 'react-widgets/dist/css/react-widgets.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nimport Moment from 'moment'\nimport momentLocalizer from 'react-widgets-moment';\n\nMoment.locale('en')\nmomentLocalizer()\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}